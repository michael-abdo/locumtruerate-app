<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locum Dashboard - LocumTrueRate</title>
    <style>
        /* CSS Variables from Design System */
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --secondary-color: #64748b;
            --accent-color: #10b981;
            --background-color: #f8fafc;
            --surface-color: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--background-color);
        }

        /* Navigation */
        .navbar {
            background-color: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand h2 {
            color: var(--primary-color);
            font-weight: 700;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }

        .nav-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-5px);
            transition: all 0.2s ease-in-out;
            z-index: 1000;
            margin-top: 0;
            pointer-events: none;
        }

        .nav-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .nav-dropdown::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 10px;
            background: transparent;
            z-index: 999;
        }

        .dropdown-menu li {
            list-style: none;
        }

        .dropdown-menu a {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: background-color 0.2s;
        }

        .dropdown-menu a:hover {
            background-color: var(--background-color);
            color: var(--primary-color);
        }

        /* Navigation Search */
        .nav-search {
            position: relative;
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        .search-input {
            padding: 0.5rem 2.5rem 0.5rem 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background-color: white;
            color: var(--text-primary);
            font-size: 0.9rem;
            width: 250px;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            width: 300px;
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .search-button {
            position: absolute;
            right: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: var(--text-secondary);
            transition: color 0.2s ease;
        }

        .search-button:hover,
        .search-button:focus {
            color: var(--primary-color);
            outline: none;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .search-result-item:hover,
        .search-result-item:focus {
            background-color: var(--background-secondary);
            outline: none;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .search-result-context {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .search-result-section {
            font-size: 0.8rem;
            color: var(--accent-color);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .search-no-results {
            padding: 1rem;
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Layout */
        .page-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .main-content {
            flex: 1;
            padding: 2rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Breadcrumb Navigation */
        .breadcrumb-nav {
            background-color: var(--background-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 0.75rem 0;
        }

        .breadcrumb-list {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
            padding: 0;
            list-style: none;
            font-size: 0.9rem;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-link {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
        }

        .breadcrumb-link:hover,
        .breadcrumb-link:focus {
            color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.1);
            outline: none;
        }

        .breadcrumb-separator {
            color: var(--text-secondary);
            font-weight: 300;
        }

        .breadcrumb-current {
            color: var(--text-primary);
            font-weight: 500;
        }

        .breadcrumb-item.current {
            color: var(--text-primary);
        }

        /* Dashboard Header */
        .dashboard-header {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--primary-color) 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .header-info h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header-info p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .btn-primary {
            background-color: var(--surface-color);
            color: var(--primary-color);
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary:hover {
            background-color: var(--border-light);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: transparent;
            color: white;
            padding: 0.75rem 1.5rem;
            border: 2px solid white;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
            display: inline-block;
        }

        .btn-secondary:hover {
            background-color: white;
            color: var(--primary-color);
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background-color: var(--surface-color);
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 4px solid var(--border-color);
            transition: all 0.2s ease-in-out;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-card.primary {
            border-left-color: var(--primary-color);
        }

        .stat-card.success {
            border-left-color: var(--success-color);
        }

        .stat-card.warning {
            border-left-color: var(--warning-color);
        }

        .stat-card.accent {
            border-left-color: var(--accent-color);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .stat-change {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .stat-change.positive {
            color: var(--success-color);
        }

        .stat-change.negative {
            color: var(--error-color);
        }

        /* Dashboard Sections */
        .dashboard-section {
            background-color: var(--surface-color);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .section-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-controls,
        .view-controls,
        .sort-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .sort-select {
            padding: 0.4rem 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            background-color: white;
            color: var(--text-primary);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 140px;
        }

        .sort-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .sort-select:hover {
            border-color: var(--text-secondary);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }

        .btn-small.primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-small.secondary {
            background-color: var(--background-color);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-small.accent {
            background-color: var(--accent-color);
            color: white;
        }

        /* Contract Cards */
        .contracts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        /* Job Cards */
        .jobs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .job-card {
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.2s ease-in-out;
            position: relative;
            overflow: hidden;
            background-color: var(--surface-color);
        }

        .job-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .job-card.hidden {
            display: none;
        }

        .job-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .job-status.urgent {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
        }

        .job-status.new {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .job-status.standard {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary-color);
        }

        .job-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            margin-right: 4rem;
        }

        .job-facility {
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .job-location {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .job-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .job-detail {
            text-align: center;
            padding: 0.75rem;
            background-color: var(--background-color);
            border-radius: 0.5rem;
        }

        .job-detail-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .job-detail-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .job-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        /* Application Status Tracking */
        .applications-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .application-item {
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 1.5rem;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            background-color: var(--surface-color);
            transition: all 0.2s ease-in-out;
            align-items: center;
        }

        .application-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .application-item.hidden {
            display: none;
        }

        .application-info h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .application-facility {
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .application-location {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .application-date {
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .application-details {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .application-rate {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .application-status-pill {
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            font-weight: 500;
            text-align: center;
            min-width: 120px;
        }

        .application-status-pill.applied {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary-color);
        }

        .application-status-pill.interview {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        .application-status-pill.offer {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .application-status-pill.rejected {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
        }

        .application-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            min-width: 140px;
        }

        .application-actions .btn-small {
            justify-self: stretch;
            text-align: center;
        }

        /* Financial Tracking */
        .financial-view {
            display: none;
        }

        .financial-view.active {
            display: block;
        }

        .financial-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border-left: 4px solid var(--primary-color);
        }

        .summary-card h4 {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
        }

        .summary-amount {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .summary-change {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .summary-change.positive {
            color: var(--success-color);
        }

        .summary-note {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Payment History */
        .payments-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .payment-item {
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 1.5rem;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            background-color: var(--surface-color);
            align-items: center;
        }

        .payment-info h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .payment-period {
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .payment-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .payment-amount {
            text-align: center;
        }

        .gross-amount {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .net-amount {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .payment-status {
            text-align: center;
        }

        .status-pill {
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            display: inline-block;
        }

        .status-pill.paid {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .status-pill.processing {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        .payment-date {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Expense Tracking */
        .expense-categories {
            margin-bottom: 2rem;
        }

        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .category-item:last-child {
            border-bottom: none;
        }

        .category-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .category-amount {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .category-progress {
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 200px;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background-color: var(--border-light);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }

        .category-progress span {
            font-size: 0.85rem;
            color: var(--text-secondary);
            min-width: 80px;
        }

        .expense-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        /* Credentials Management */
        .credentials-management {
            background-color: var(--background-color);
            border-radius: 1rem;
            padding: 2rem;
        }

        .credentials-management h3 {
            color: var(--text-primary);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .credentials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .credential-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            transition: all 0.2s ease-in-out;
        }

        .credential-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .credential-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--background-color);
            border-radius: 50%;
        }

        .credential-info {
            flex: 1;
        }

        .credential-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .credential-status {
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 0.25rem;
            display: inline-block;
        }

        .credential-status.valid {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .credential-status.expiring {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        .credential-status.expired {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
        }

        .credential-expiry {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .credential-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            min-width: 80px;
        }

        .credential-actions .btn-small {
            padding: 0.25rem 0.75rem;
            font-size: 0.8rem;
        }

        /* Upload Section */
        .upload-section {
            border-top: 1px solid var(--border-color);
            padding-top: 2rem;
        }

        .upload-section h4 {
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            margin-bottom: 1rem;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.05);
        }

        .upload-area.dragover {
            border-color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .upload-text p {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .upload-text small {
            color: var(--text-secondary);
        }

        .upload-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* Calendar and Scheduling */
        .calendar-view {
            display: none;
        }

        .calendar-view.active {
            display: block;
        }

        .calendar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding: 0 1rem;
        }

        .calendar-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .calendar-nav {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }

        .calendar-nav:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: var(--border-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .calendar-header-cell {
            background-color: var(--background-color);
            padding: 1rem;
            text-align: center;
            font-weight: 600;
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border-color);
        }

        .calendar-day {
            background-color: var(--surface-color);
            min-height: 80px;
            padding: 0.5rem;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .calendar-day:hover {
            background-color: var(--background-color);
        }

        .calendar-day.inactive {
            background-color: var(--border-light);
            color: var(--text-muted);
        }

        .calendar-day.today {
            background-color: rgba(37, 99, 235, 0.1);
            border: 2px solid var(--primary-color);
        }

        .calendar-day.working {
            background-color: rgba(16, 185, 129, 0.1);
        }

        .calendar-event {
            background-color: var(--primary-color);
            color: white;
            padding: 0.25rem;
            border-radius: 0.25rem;
            font-size: 0.7rem;
            font-weight: 500;
            margin-top: 0.25rem;
            text-align: center;
        }

        .calendar-event.work {
            background-color: var(--success-color);
        }

        /* Week View */
        .week-schedule {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .week-header {
            display: grid;
            grid-template-columns: 100px repeat(7, 1fr);
            background-color: var(--background-color);
            border-bottom: 2px solid var(--border-color);
        }

        .time-column,
        .day-column {
            padding: 1rem;
            text-align: center;
            font-weight: 600;
            color: var(--text-secondary);
            border-right: 1px solid var(--border-color);
        }

        .week-grid {
            display: grid;
            grid-template-columns: 100px repeat(7, 1fr);
        }

        .time-slot {
            padding: 0.75rem;
            text-align: center;
            background-color: var(--background-color);
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .day-slot {
            min-height: 40px;
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }

        .day-slot.shift {
            background-color: rgba(16, 185, 129, 0.1);
        }

        .shift-block {
            background-color: var(--success-color);
            color: white;
            padding: 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.8rem;
            font-weight: 500;
            text-align: center;
            margin: 0.25rem;
        }

        /* Availability Section */
        .availability-section h4 {
            color: var(--text-primary);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .availability-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .availability-item {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
        }

        .availability-item h5 {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .schedule-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .schedule-options label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .availability-select,
        .availability-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            background-color: var(--surface-color);
        }

        .availability-dates {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .date-range {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .date-range label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .time-off-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .time-off-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
        }

        .time-off-reason {
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Messaging and Communication */
        .message-view {
            display: none;
        }

        .message-view.active {
            display: block;
        }

        .messages-container {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            overflow: hidden;
        }

        .message-thread {
            display: flex;
            flex-direction: column;
        }

        .message-item {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
        }

        .message-item:hover {
            background-color: var(--background-color);
        }

        .message-item.unread {
            background-color: rgba(37, 99, 235, 0.05);
            border-left: 4px solid var(--primary-color);
        }

        .message-avatar {
            flex-shrink: 0;
        }

        .avatar-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
        }

        .message-header h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .message-role {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .message-time {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-left: auto;
        }

        .message-preview {
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .message-actions {
            display: flex;
            gap: 0.75rem;
        }

        /* Contacts */
        .contacts-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .contact-category h4 {
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .contact-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            transition: all 0.2s ease;
        }

        .contact-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .contact-item.emergency {
            border-color: var(--error-color);
            background-color: rgba(239, 68, 68, 0.05);
        }

        .contact-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .contact-info {
            flex: 1;
        }

        .contact-info h5 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .contact-info p {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .contact-details span {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .contact-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            min-width: 100px;
        }

        /* Notifications */
        .notifications-container h4 {
            color: var(--text-primary);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .notification-settings {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .notification-category {
            background-color: var(--background-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
        }

        .notification-category h5 {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .notification-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .notification-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .notification-option:hover {
            color: var(--text-primary);
        }

        .notification-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        .notification-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        /* Account Settings */
        .settings-view {
            display: none;
        }

        .settings-view.active {
            display: block;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        .settings-section {
            background-color: var(--background-color);
            padding: 2rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
        }

        .settings-section h4 {
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.9rem;
        }

        .settings-input {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            background-color: var(--surface-color);
            transition: border-color 0.2s ease;
        }

        .settings-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .settings-input.changed {
            border-color: var(--warning-color);
            background-color: rgba(245, 158, 11, 0.05);
        }

        /* Privacy Settings */
        .privacy-options,
        .privacy-toggles {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .privacy-option,
        .privacy-toggle {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .privacy-option:hover,
        .privacy-toggle:hover {
            color: var(--text-primary);
        }

        .privacy-option input[type="radio"],
        .privacy-toggle input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        .security-options {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        /* Preferences Settings */
        .preference-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .preference-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .preference-option span {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .preference-option .settings-input {
            max-width: 200px;
        }

        .preference-toggles {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .preference-toggle {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .preference-toggle:hover {
            color: var(--text-primary);
        }

        .preference-toggle input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        /* Payment Methods */
        .payment-methods-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .payment-method {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            background: var(--background-color);
            transition: all 0.2s ease;
        }

        .payment-method:hover {
            border-color: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .payment-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 1;
        }

        .payment-type {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .payment-icon {
            font-size: 1.5rem;
        }

        .payment-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        .payment-status {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.8rem;
            font-weight: 500;
            background-color: var(--background-secondary);
            color: var(--text-secondary);
        }

        .payment-status.primary {
            background-color: var(--success-color);
            color: white;
        }

        .payment-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Enhanced focus states for keyboard navigation */
        button:focus,
        a:focus,
        input:focus,
        select:focus,
        textarea:focus,
        [tabindex]:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
            box-shadow: 0 0 0 5px rgba(37, 99, 235, 0.25);
            transition: all 0.15s ease-in-out;
        }

        /* Focus within compound elements */
        .stat-card:focus-within,
        .application-item:focus-within,
        .payment-item:focus-within,
        .job-item:focus-within,
        .credential-item:focus-within,
        .message-item:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
        }

        /* High contrast focus for critical actions */
        .btn-primary:focus,
        .btn-danger:focus {
            outline-color: var(--warning-color);
            box-shadow: 0 0 0 5px rgba(245, 158, 11, 0.3);
        }

        /* Enhanced focus for navigation elements */
        .nav-link:focus,
        .breadcrumb-link:focus {
            background-color: rgba(37, 99, 235, 0.1);
            border-radius: 0.25rem;
        }

        /* Focus indicators for cards and interactive elements */
        .dashboard-section:focus-within {
            border-left: 4px solid var(--primary-color);
            padding-left: calc(2rem - 4px);
        }

        /* Visible focus for screen reader users */
        .focus-visible {
            outline: 3px solid var(--accent-color);
            outline-offset: 2px;
        }

        /* Focus trap styling for modals */
        .modal:focus-within {
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
        }

        /* Keyboard-only focus indicators (hide mouse focus) */
        .js-focus-visible button:focus:not(.focus-visible),
        .js-focus-visible a:focus:not(.focus-visible),
        .js-focus-visible input:focus:not(.focus-visible),
        .js-focus-visible select:focus:not(.focus-visible),
        .js-focus-visible textarea:focus:not(.focus-visible) {
            outline: none;
            box-shadow: none;
        }

        /* Skip to main content link */
        .skip-to-main {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 4px 4px;
            z-index: 10000;
            transition: top 0.3s;
        }

        .skip-to-main:focus {
            top: 0;
        }

        /* Improve button focus states */
        .btn-primary:focus,
        .btn-secondary:focus,
        .btn-small:focus,
        .action-btn:focus {
            outline: 2px solid var(--surface-color);
            outline-offset: 2px;
            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.8);
        }

        /* Calendar day focus states */
        .calendar-day:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: -2px;
            z-index: 1;
            position: relative;
        }

        /* Message item focus states */
        .message-item:focus-within {
            background-color: var(--background-color);
            border-color: var(--primary-color);
        }

        /* Contact item focus states */
        .contact-item:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --primary-color: #0066cc;
                --text-primary: #000000;
                --text-secondary: #333333;
                --border-color: #666666;
                --background-color: #ffffff;
                --surface-color: #ffffff;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        .contract-card {
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.2s ease-in-out;
            position: relative;
            overflow: hidden;
        }

        .contract-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .contract-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .contract-status.active {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .contract-status.completed {
            background-color: rgba(100, 116, 139, 0.1);
            color: var(--secondary-color);
        }

        .contract-status.upcoming {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary-color);
        }

        .contract-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            margin-right: 4rem;
        }

        .contract-facility {
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .contract-location {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .contract-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .contract-detail {
            text-align: center;
            padding: 0.75rem;
            background-color: var(--background-color);
            border-radius: 0.5rem;
        }

        .contract-detail-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .contract-detail-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .contract-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.5rem;
            font-size: 0.9rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
        }

        .action-btn.primary {
            background-color: var(--primary-color);
            color: white;
        }

        .action-btn.accent {
            background-color: var(--accent-color);
            color: white;
        }

        .action-btn.secondary {
            background-color: var(--background-color);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        /* Profile Section */
        .profile-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .profile-summary {
            background-color: var(--background-color);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            font-weight: 600;
            margin: 0 auto 1rem;
        }

        .profile-info h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .profile-specialty {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .profile-rating {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .rating-stars {
            color: var(--warning-color);
            font-size: 1.2rem;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .profile-stat {
            text-align: center;
            padding: 1rem;
            background-color: var(--surface-color);
            border-radius: 0.5rem;
        }

        .profile-stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .profile-stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Earnings Chart */
        .earnings-chart {
            background-color: var(--background-color);
            border-radius: 1rem;
            padding: 2rem;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Footer */
        .footer {
            background-color: var(--text-primary);
            color: var(--text-muted);
            padding: 3rem 0 1rem;
            margin-top: auto;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4, .footer-section h5 {
            color: white;
            margin-bottom: 1rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: var(--text-muted);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-bottom {
            border-top: 1px solid var(--secondary-color);
            padding-top: 1rem;
            text-align: center;
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10001;
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            min-width: 300px;
            max-width: 400px;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.hide {
            transform: translateX(100%);
        }

        .toast-success {
            border-left: 4px solid var(--success-color);
        }

        .toast-error {
            border-left: 4px solid var(--error-color);
        }

        .toast-warning {
            border-left: 4px solid var(--warning-color);
        }

        .toast-info {
            border-left: 4px solid var(--primary-color);
        }

        .toast-message {
            flex: 1;
            color: var(--text-primary);
            font-weight: 500;
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .toast-close:hover {
            background-color: var(--background-color);
        }

        /* Fade out animation */
        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: scale(1);
            }
            to {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
            }

            .contracts-grid {
                grid-template-columns: 1fr;
            }

            .jobs-grid {
                grid-template-columns: 1fr;
            }

            .profile-grid {
                grid-template-columns: 1fr;
            }

            .contract-details {
                grid-template-columns: 1fr;
            }

            .job-details {
                grid-template-columns: 1fr;
            }

            .profile-stats {
                grid-template-columns: 1fr;
            }

            .toast {
                right: 10px;
                left: 10px;
                min-width: auto;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    <div class="page-container">
        <!-- Navigation -->
        <nav class="navbar" role="navigation" aria-label="Main navigation">
            <div class="nav-container">
                <div class="nav-brand">
                    <h2>LocumTrueRate</h2>
                </div>
                <ul class="nav-menu" role="menubar">
                    <li role="none"><a href="index.html" class="nav-link" role="menuitem" tabindex="0">Home</a></li>
                    <li role="none"><a href="job-board.html" class="nav-link" role="menuitem" tabindex="0">Job Board</a></li>
                    <li role="none"><a href="paycheck-calculator.html" class="nav-link" role="menuitem" tabindex="0">Paycheck Calculator</a></li>
                    <li role="none"><a href="contract-calculator.html" class="nav-link" role="menuitem" tabindex="0">Contract Calculator</a></li>
                    <li class="nav-dropdown" role="none">
                        <a href="#" class="nav-link active" role="menuitem" aria-haspopup="true" aria-expanded="false" tabindex="0">Dashboards</a>
                        <ul class="dropdown-menu" role="menu" aria-label="Dashboard options">
                            <li role="none"><a href="recruiter-dashboard.html" role="menuitem" tabindex="-1">Recruiter</a></li>
                            <li role="none"><a href="locum-dashboard.html" role="menuitem" tabindex="-1" aria-current="page">Locum</a></li>
                            <li role="none"><a href="admin-dashboard.html" role="menuitem" tabindex="-1">Admin</a></li>
                        </ul>
                    </li>
                </ul>
                <div class="nav-search" role="search">
                    <input type="search" 
                           id="global-search" 
                           class="search-input" 
                           placeholder="Search dashboard..." 
                           aria-label="Search across dashboard content"
                           onkeyup="performGlobalSearch(event)"
                           autocomplete="off">
                    <button type="button" 
                            class="search-button" 
                            onclick="performGlobalSearch()"
                            aria-label="Execute search">
                        🔍
                    </button>
                    <div id="search-results" class="search-results" role="listbox" aria-label="Search results"></div>
                </div>
            </div>
        </nav>

        <!-- Breadcrumb Navigation -->
        <nav class="breadcrumb-nav" role="navigation" aria-label="Breadcrumb navigation">
            <div class="container">
                <ol class="breadcrumb-list" role="list">
                    <li class="breadcrumb-item" role="listitem">
                        <a href="index.html" class="breadcrumb-link" aria-label="Go to homepage">Home</a>
                    </li>
                    <li class="breadcrumb-separator" aria-hidden="true">/</li>
                    <li class="breadcrumb-item" role="listitem">
                        <a href="#" class="breadcrumb-link" aria-label="Dashboards section">Dashboards</a>
                    </li>
                    <li class="breadcrumb-separator" aria-hidden="true">/</li>
                    <li class="breadcrumb-item current" role="listitem" aria-current="page">
                        <span class="breadcrumb-current">Locum Dashboard</span>
                    </li>
                </ol>
            </div>
        </nav>

        <!-- Dashboard Header -->
        <section class="dashboard-header" role="banner" aria-labelledby="dashboard-welcome">
            <div class="container">
                <div class="header-content">
                    <div class="header-info">
                        <h1 id="dashboard-welcome">Welcome back, Dr. Emily Chen</h1>
                        <p>Emergency Medicine Physician • Board Certified • 12 years experience</p>
                    </div>
                    <div class="header-actions">
                        <a href="job-board.html" class="btn-primary" aria-label="Navigate to job board to find new positions">Find New Positions</a>
                        <button class="btn-secondary" onclick="updateProfile()" aria-label="Open profile editor to update information" tabindex="0">Update Profile</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main" aria-label="Locum dashboard content">
            <div class="container">
                <!-- Stats Overview -->
                <section class="stats-grid" role="region" aria-labelledby="stats-heading">
                    <h2 id="stats-heading" class="sr-only">Dashboard Statistics Overview</h2>
                    <div class="stat-card primary" role="img" aria-label="Active Contracts: 3, increased by 1 this month">
                        <div class="stat-value" aria-hidden="true">3</div>
                        <div class="stat-label" aria-hidden="true">Active Contracts</div>
                        <div class="stat-change positive" aria-hidden="true">↗ +1 this month</div>
                    </div>
                    <div class="stat-card success" role="img" aria-label="Total Earnings Year to Date: $847,000, up 15% versus last year">
                        <div class="stat-value" aria-hidden="true">$847K</div>
                        <div class="stat-label" aria-hidden="true">Total Earnings (YTD)</div>
                        <div class="stat-change positive" aria-hidden="true">↗ +15% vs last year</div>
                    </div>
                    <div class="stat-card warning" role="img" aria-label="Contracts Completed: 42, up 8 this year">
                        <div class="stat-value" aria-hidden="true">42</div>
                        <div class="stat-label" aria-hidden="true">Contracts Completed</div>
                        <div class="stat-change positive" aria-hidden="true">↗ +8 this year</div>
                    </div>
                    <div class="stat-card accent" role="img" aria-label="Average Rating: 4.9 out of 5, excellent feedback">
                        <div class="stat-value" aria-hidden="true">4.9</div>
                        <div class="stat-label" aria-hidden="true">Average Rating</div>
                        <div class="stat-change positive" aria-hidden="true">↗ Excellent feedback</div>
                    </div>
                </section>

                <!-- Profile & Earnings Overview -->
                <div class="dashboard-section" role="region" aria-labelledby="profile-heading">
                    <div class="section-header">
                        <h2 id="profile-heading" class="section-title">Profile Overview</h2>
                        <div class="section-actions" role="group" aria-label="Profile management actions">
                            <button class="btn-small secondary" onclick="exportProfile()" aria-describedby="profile-heading">Export Resume</button>
                            <button class="btn-small primary" onclick="updateProfile()" aria-describedby="profile-heading">Edit Profile</button>
                        </div>
                    </div>

                    <div class="profile-grid">
                        <div class="profile-summary">
                            <div class="profile-avatar">EC</div>
                            <div class="profile-info">
                                <h3>Dr. Emily Chen</h3>
                                <div class="profile-specialty">Emergency Medicine Physician</div>
                                <div class="profile-rating">
                                    <span class="rating-stars">★★★★★</span>
                                    <span>4.9/5 (127 reviews)</span>
                                </div>
                            </div>
                            <div class="profile-stats">
                                <div class="profile-stat">
                                    <div class="profile-stat-value">12</div>
                                    <div class="profile-stat-label">Years Experience</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value">8</div>
                                    <div class="profile-stat-label">States Licensed</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value">42</div>
                                    <div class="profile-stat-label">Contracts</div>
                                </div>
                                <div class="profile-stat">
                                    <div class="profile-stat-value">18</div>
                                    <div class="profile-stat-label">Avg Days/Month</div>
                                </div>
                            </div>
                        </div>

                        <div class="credentials-management">
                            <h3>Professional Credentials</h3>
                            
                            <div class="credentials-grid">
                                <div class="credential-item">
                                    <div class="credential-icon">📋</div>
                                    <div class="credential-info">
                                        <h4>Medical License</h4>
                                        <div class="credential-status valid">Valid</div>
                                        <div class="credential-expiry">Expires: Dec 31, 2025</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('license')">View</button>
                                        <button class="btn-small secondary" onclick="updateCredential('license')">Update</button>
                                    </div>
                                </div>

                                <div class="credential-item">
                                    <div class="credential-icon">🏥</div>
                                    <div class="credential-info">
                                        <h4>Board Certification</h4>
                                        <div class="credential-status valid">Valid</div>
                                        <div class="credential-expiry">Expires: Mar 15, 2027</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('board')">View</button>
                                        <button class="btn-small secondary" onclick="updateCredential('board')">Update</button>
                                    </div>
                                </div>

                                <div class="credential-item">
                                    <div class="credential-icon">🆔</div>
                                    <div class="credential-info">
                                        <h4>DEA Registration</h4>
                                        <div class="credential-status expiring">Expiring Soon</div>
                                        <div class="credential-expiry">Expires: Apr 30, 2025</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('dea')">View</button>
                                        <button class="btn-small accent" onclick="renewCredential('dea')">Renew</button>
                                    </div>
                                </div>

                                <div class="credential-item">
                                    <div class="credential-icon">💉</div>
                                    <div class="credential-info">
                                        <h4>Immunization Records</h4>
                                        <div class="credential-status valid">Up to Date</div>
                                        <div class="credential-expiry">Last updated: Jan 10, 2025</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('immunization')">View</button>
                                        <button class="btn-small secondary" onclick="updateCredential('immunization')">Update</button>
                                    </div>
                                </div>

                                <div class="credential-item">
                                    <div class="credential-icon">🩺</div>
                                    <div class="credential-info">
                                        <h4>Malpractice Insurance</h4>
                                        <div class="credential-status valid">Active</div>
                                        <div class="credential-expiry">Expires: Aug 15, 2025</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('malpractice')">View</button>
                                        <button class="btn-small secondary" onclick="updateCredential('malpractice')">Update</button>
                                    </div>
                                </div>

                                <div class="credential-item">
                                    <div class="credential-icon">❤️</div>
                                    <div class="credential-info">
                                        <h4>BLS/ACLS Certification</h4>
                                        <div class="credential-status valid">Valid</div>
                                        <div class="credential-expiry">Expires: Jun 20, 2025</div>
                                    </div>
                                    <div class="credential-actions">
                                        <button class="btn-small primary" onclick="viewCredential('bls')">View</button>
                                        <button class="btn-small secondary" onclick="updateCredential('bls')">Update</button>
                                    </div>
                                </div>
                            </div>

                            <div class="upload-section">
                                <h4>Upload New Documents</h4>
                                <div class="upload-area" onclick="triggerFileUpload()">
                                    <div class="upload-icon">📁</div>
                                    <div class="upload-text">
                                        <p>Click to upload or drag and drop</p>
                                        <small>Supports PDF, JPG, PNG files up to 10MB</small>
                                    </div>
                                </div>
                                <input type="file" id="credential-upload" multiple accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload(event)">
                                
                                <div class="upload-buttons">
                                    <button class="btn-small primary" onclick="uploadCredential()">Upload Credential</button>
                                    <button class="btn-small secondary" onclick="scanDocument()">Scan Document</button>
                                    <button class="btn-small accent" onclick="requestCredential()">Request from Provider</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contract Management -->
                <div class="dashboard-section" role="region" aria-labelledby="contracts-heading">
                    <div class="section-header">
                        <h2 id="contracts-heading" class="section-title">Your Contracts</h2>
                        <div class="section-actions" role="group" aria-label="Contract filtering and analysis tools">
                            <button class="btn-small secondary" onclick="filterContracts('all')" aria-label="Show all contracts">All</button>
                            <button class="btn-small secondary" onclick="filterContracts('active')" aria-label="Show active contracts only">Active</button>
                            <button class="btn-small secondary" onclick="filterContracts('upcoming')" aria-label="Show upcoming contracts only">Upcoming</button>
                            <button class="btn-small accent" onclick="analyzeContracts()" aria-label="Analyze all contracts for insights">Analyze All</button>
                        </div>
                    </div>

                    <div class="contracts-grid">
                        <div class="contract-card">
                            <div class="contract-status active">Active</div>
                            <div class="contract-header">
                                <h3>Emergency Medicine Physician</h3>
                                <div class="contract-facility">Metropolitan General Hospital</div>
                                <div class="contract-location">📍 Los Angeles, CA</div>
                            </div>
                            <div class="contract-details">
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Rate</div>
                                    <div class="contract-detail-value">$350/hr</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Duration</div>
                                    <div class="contract-detail-value">13 weeks</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Hours/Week</div>
                                    <div class="contract-detail-value">48 hrs</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Housing</div>
                                    <div class="contract-detail-value">$1,800/wk</div>
                                </div>
                            </div>
                            <div class="contract-actions">
                                <button class="action-btn primary" onclick="viewContract(1)">View Details</button>
                                <button class="action-btn accent" onclick="calculateEarnings(1)">Calculate</button>
                                <button class="action-btn secondary" onclick="extendContract(1)">Extend</button>
                            </div>
                        </div>

                        <div class="contract-card">
                            <div class="contract-status upcoming">Upcoming</div>
                            <div class="contract-header">
                                <h3>Emergency Medicine - Rural</h3>
                                <div class="contract-facility">Valley Community Hospital</div>
                                <div class="contract-location">📍 Fresno, CA</div>
                            </div>
                            <div class="contract-details">
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Rate</div>
                                    <div class="contract-detail-value">$380/hr</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Duration</div>
                                    <div class="contract-detail-value">8 weeks</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Hours/Week</div>
                                    <div class="contract-detail-value">36 hrs</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Start Date</div>
                                    <div class="contract-detail-value">Feb 15</div>
                                </div>
                            </div>
                            <div class="contract-actions">
                                <button class="action-btn primary" onclick="viewContract(2)">View Details</button>
                                <button class="action-btn accent" onclick="calculateEarnings(2)">Calculate</button>
                                <button class="action-btn secondary" onclick="prepareContract(2)">Prepare</button>
                            </div>
                        </div>

                        <div class="contract-card">
                            <div class="contract-status completed">Completed</div>
                            <div class="contract-header">
                                <h3>Emergency Medicine Locum</h3>
                                <div class="contract-facility">Houston Medical Center</div>
                                <div class="contract-location">📍 Houston, TX</div>
                            </div>
                            <div class="contract-details">
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Rate</div>
                                    <div class="contract-detail-value">$325/hr</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Duration</div>
                                    <div class="contract-detail-value">26 weeks</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Total Earned</div>
                                    <div class="contract-detail-value">$421,200</div>
                                </div>
                                <div class="contract-detail">
                                    <div class="contract-detail-label">Rating</div>
                                    <div class="contract-detail-value">★★★★★</div>
                                </div>
                            </div>
                            <div class="contract-actions">
                                <button class="action-btn primary" onclick="viewContract(3)">View Details</button>
                                <button class="action-btn secondary" onclick="downloadContract(3)">Download</button>
                                <button class="action-btn accent" onclick="renewContract(3)">Renew</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Saved Jobs -->
                <div class="dashboard-section" role="region" aria-labelledby="saved-jobs-heading">
                    <div class="section-header">
                        <h2 id="saved-jobs-heading" class="section-title">Saved Jobs</h2>
                        <div class="section-actions" role="group" aria-label="Job filtering and search options">
                            <button class="btn-small secondary" onclick="filterSavedJobs('all')" aria-label="Show all saved jobs">All</button>
                            <button class="btn-small secondary" onclick="filterSavedJobs('urgent')" aria-label="Show urgent jobs only">Urgent</button>
                            <button class="btn-small secondary" onclick="filterSavedJobs('recent')" aria-label="Show recently saved jobs">Recent</button>
                            <button class="btn-small primary" onclick="findNewJobs()" aria-label="Search for new job opportunities">Find More Jobs</button>
                        </div>
                    </div>

                    <div class="jobs-grid">
                        <div class="job-card" data-job-type="urgent">
                            <div class="job-status urgent">Urgent</div>
                            <div class="job-header">
                                <h3>Emergency Medicine Physician</h3>
                                <div class="job-facility">Riverside Regional Medical Center</div>
                                <div class="job-location">📍 Newport News, VA</div>
                            </div>
                            <div class="job-details">
                                <div class="job-detail">
                                    <div class="job-detail-label">Rate</div>
                                    <div class="job-detail-value">$395/hr</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Duration</div>
                                    <div class="job-detail-value">4 weeks</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Start Date</div>
                                    <div class="job-detail-value">ASAP</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Housing</div>
                                    <div class="job-detail-value">$2,000/wk</div>
                                </div>
                            </div>
                            <div class="job-actions">
                                <button class="action-btn primary" onclick="viewJobDetails(1)">View Details</button>
                                <button class="action-btn accent" onclick="applyToJob(1)">Apply Now</button>
                                <button class="action-btn secondary" onclick="removeFromSaved(1)">Remove</button>
                            </div>
                        </div>

                        <div class="job-card" data-job-type="recent">
                            <div class="job-status new">New</div>
                            <div class="job-header">
                                <h3>ER Physician - Level 1 Trauma</h3>
                                <div class="job-facility">Stanford Health Care</div>
                                <div class="job-location">📍 Palo Alto, CA</div>
                            </div>
                            <div class="job-details">
                                <div class="job-detail">
                                    <div class="job-detail-label">Rate</div>
                                    <div class="job-detail-value">$425/hr</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Duration</div>
                                    <div class="job-detail-value">12 weeks</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Start Date</div>
                                    <div class="job-detail-value">Mar 1</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Benefits</div>
                                    <div class="job-detail-value">Excellent</div>
                                </div>
                            </div>
                            <div class="job-actions">
                                <button class="action-btn primary" onclick="viewJobDetails(2)">View Details</button>
                                <button class="action-btn accent" onclick="applyToJob(2)">Apply Now</button>
                                <button class="action-btn secondary" onclick="removeFromSaved(2)">Remove</button>
                            </div>
                        </div>

                        <div class="job-card" data-job-type="all">
                            <div class="job-status standard">Saved</div>
                            <div class="job-header">
                                <h3>Emergency Medicine - Rural</h3>
                                <div class="job-facility">Banner Health</div>
                                <div class="job-location">📍 Flagstaff, AZ</div>
                            </div>
                            <div class="job-details">
                                <div class="job-detail">
                                    <div class="job-detail-label">Rate</div>
                                    <div class="job-detail-value">$370/hr</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Duration</div>
                                    <div class="job-detail-value">26 weeks</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Start Date</div>
                                    <div class="job-detail-value">Apr 15</div>
                                </div>
                                <div class="job-detail">
                                    <div class="job-detail-label">Shift</div>
                                    <div class="job-detail-value">Days</div>
                                </div>
                            </div>
                            <div class="job-actions">
                                <button class="action-btn primary" onclick="viewJobDetails(3)">View Details</button>
                                <button class="action-btn accent" onclick="applyToJob(3)">Apply Now</button>
                                <button class="action-btn secondary" onclick="removeFromSaved(3)">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Application Status Tracking -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Application Status</h2>
                        <div class="section-actions">
                            <div class="filter-controls">
                                <button class="btn-small secondary" onclick="filterApplications('all')">All</button>
                                <button class="btn-small secondary" onclick="filterApplications('active')">Active</button>
                                <button class="btn-small secondary" onclick="filterApplications('interview')">Interview</button>
                            </div>
                            <div class="sort-controls">
                                <label for="app-sort-select" class="sr-only">Sort applications by</label>
                                <select id="app-sort-select" class="sort-select" onchange="sortApplications(this.value)" aria-label="Sort applications">
                                    <option value="date-desc">Date Applied (Latest)</option>
                                    <option value="date-asc">Date Applied (Oldest)</option>
                                    <option value="rate-desc">Rate (Highest)</option>
                                    <option value="rate-asc">Rate (Lowest)</option>
                                    <option value="name-asc">Position (A-Z)</option>
                                    <option value="name-desc">Position (Z-A)</option>
                                    <option value="status-asc">Status</option>
                                </select>
                            </div>
                            <button class="btn-small primary" onclick="refreshApplications()">Refresh</button>
                        </div>
                    </div>

                    <div class="applications-list">
                        <div class="application-item" data-status="applied">
                            <div class="application-info">
                                <h3>Emergency Medicine Physician</h3>
                                <div class="application-facility">Riverside Regional Medical Center</div>
                                <div class="application-location">📍 Newport News, VA</div>
                                <div class="application-date">Applied: Jan 15, 2025</div>
                            </div>
                            <div class="application-details">
                                <div class="application-rate">$395/hr</div>
                                <div class="application-status-pill applied">Applied</div>
                            </div>
                            <div class="application-actions">
                                <button class="btn-small primary" onclick="viewApplicationDetails(1)">View Details</button>
                                <button class="btn-small secondary" onclick="withdrawApplication(1)">Withdraw</button>
                            </div>
                        </div>

                        <div class="application-item" data-status="interview">
                            <div class="application-info">
                                <h3>ER Physician - Level 1 Trauma</h3>
                                <div class="application-facility">Stanford Health Care</div>
                                <div class="application-location">📍 Palo Alto, CA</div>
                                <div class="application-date">Applied: Jan 12, 2025</div>
                            </div>
                            <div class="application-details">
                                <div class="application-rate">$425/hr</div>
                                <div class="application-status-pill interview">Interview Scheduled</div>
                            </div>
                            <div class="application-actions">
                                <button class="btn-small primary" onclick="viewApplicationDetails(2)">View Details</button>
                                <button class="btn-small accent" onclick="prepareForInterview(2)">Prepare</button>
                            </div>
                        </div>

                        <div class="application-item" data-status="offer">
                            <div class="application-info">
                                <h3>Emergency Medicine - Rural</h3>
                                <div class="application-facility">Banner Health</div>
                                <div class="application-location">📍 Flagstaff, AZ</div>
                                <div class="application-date">Applied: Jan 8, 2025</div>
                            </div>
                            <div class="application-details">
                                <div class="application-rate">$370/hr</div>
                                <div class="application-status-pill offer">Offer Received</div>
                            </div>
                            <div class="application-actions">
                                <button class="btn-small primary" onclick="viewApplicationDetails(3)">View Offer</button>
                                <button class="btn-small accent" onclick="acceptOffer(3)">Accept</button>
                                <button class="btn-small secondary" onclick="declineOffer(3)">Decline</button>
                            </div>
                        </div>

                        <div class="application-item" data-status="rejected">
                            <div class="application-info">
                                <h3>Emergency Medicine Locum</h3>
                                <div class="application-facility">Houston Methodist</div>
                                <div class="application-location">📍 Houston, TX</div>
                                <div class="application-date">Applied: Jan 5, 2025</div>
                            </div>
                            <div class="application-details">
                                <div class="application-rate">$340/hr</div>
                                <div class="application-status-pill rejected">Not Selected</div>
                            </div>
                            <div class="application-actions">
                                <button class="btn-small primary" onclick="viewApplicationDetails(4)">View Feedback</button>
                                <button class="btn-small secondary" onclick="archiveApplication(4)">Archive</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendar and Scheduling -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Calendar & Scheduling</h2>
                        <div class="section-actions">
                            <button class="btn-small secondary" onclick="switchCalendarView('month')">Month</button>
                            <button class="btn-small secondary" onclick="switchCalendarView('week')">Week</button>
                            <button class="btn-small secondary" onclick="switchCalendarView('availability')">Availability</button>
                            <button class="btn-small primary" onclick="addScheduleItem()">Add Event</button>
                        </div>
                    </div>

                    <!-- Calendar Views -->
                    <div id="month-view" class="calendar-view active">
                        <div class="calendar-header">
                            <button class="calendar-nav" onclick="navigateCalendar('prev')">‹</button>
                            <h3 id="current-month">January 2025</h3>
                            <button class="calendar-nav" onclick="navigateCalendar('next')">›</button>
                        </div>

                        <div class="calendar-grid">
                            <div class="calendar-header-cell">Sun</div>
                            <div class="calendar-header-cell">Mon</div>
                            <div class="calendar-header-cell">Tue</div>
                            <div class="calendar-header-cell">Wed</div>
                            <div class="calendar-header-cell">Thu</div>
                            <div class="calendar-header-cell">Fri</div>
                            <div class="calendar-header-cell">Sat</div>

                            <!-- Calendar Days -->
                            <div class="calendar-day inactive">29</div>
                            <div class="calendar-day inactive">30</div>
                            <div class="calendar-day inactive">31</div>
                            <div class="calendar-day">1</div>
                            <div class="calendar-day">2</div>
                            <div class="calendar-day">3</div>
                            <div class="calendar-day">4</div>

                            <div class="calendar-day">5</div>
                            <div class="calendar-day">6</div>
                            <div class="calendar-day">7</div>
                            <div class="calendar-day working">8
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day working">9
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day working">10
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day">11</div>

                            <div class="calendar-day">12</div>
                            <div class="calendar-day">13</div>
                            <div class="calendar-day">14</div>
                            <div class="calendar-day working">15
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day today">16
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day working">17
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day">18</div>

                            <div class="calendar-day">19</div>
                            <div class="calendar-day">20</div>
                            <div class="calendar-day">21</div>
                            <div class="calendar-day working">22
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day working">23
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day working">24
                                <div class="calendar-event work">Metro General</div>
                            </div>
                            <div class="calendar-day">25</div>

                            <div class="calendar-day">26</div>
                            <div class="calendar-day">27</div>
                            <div class="calendar-day">28</div>
                            <div class="calendar-day">29</div>
                            <div class="calendar-day">30</div>
                            <div class="calendar-day">31</div>
                            <div class="calendar-day inactive">1</div>
                        </div>
                    </div>

                    <!-- Week View -->
                    <div id="week-view" class="calendar-view">
                        <div class="week-schedule">
                            <div class="week-header">
                                <div class="time-column">Time</div>
                                <div class="day-column">Mon 13</div>
                                <div class="day-column">Tue 14</div>
                                <div class="day-column">Wed 15</div>
                                <div class="day-column">Thu 16</div>
                                <div class="day-column">Fri 17</div>
                                <div class="day-column">Sat 18</div>
                                <div class="day-column">Sun 19</div>
                            </div>

                            <div class="week-grid">
                                <div class="time-slot">6:00 AM</div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>

                                <div class="time-slot">7:00 AM</div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot shift">
                                    <div class="shift-block">Metro General<br>7AM-7PM</div>
                                </div>
                                <div class="day-slot shift">
                                    <div class="shift-block">Metro General<br>7AM-7PM</div>
                                </div>
                                <div class="day-slot shift">
                                    <div class="shift-block">Metro General<br>7AM-7PM</div>
                                </div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>

                                <div class="time-slot">8:00 AM</div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot shift"></div>
                                <div class="day-slot shift"></div>
                                <div class="day-slot shift"></div>
                                <div class="day-slot"></div>
                                <div class="day-slot"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Availability View -->
                    <div id="availability-view" class="calendar-view">
                        <div class="availability-section">
                            <h4>Set Your Availability</h4>
                            
                            <div class="availability-controls">
                                <div class="availability-item">
                                    <h5>Preferred Schedule</h5>
                                    <div class="schedule-options">
                                        <label><input type="checkbox" checked> Days (7AM-7PM)</label>
                                        <label><input type="checkbox"> Nights (7PM-7AM)</label>
                                        <label><input type="checkbox" checked> Weekends</label>
                                        <label><input type="checkbox"> Call Coverage</label>
                                    </div>
                                </div>

                                <div class="availability-item">
                                    <h5>Geographic Preferences</h5>
                                    <div class="location-options">
                                        <select class="availability-select">
                                            <option>Any Location</option>
                                            <option>Within 50 miles</option>
                                            <option>Within 100 miles</option>
                                            <option>Within 200 miles</option>
                                            <option>Travel nationwide</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="availability-item">
                                    <h5>Upcoming Availability</h5>
                                    <div class="availability-dates">
                                        <div class="date-range">
                                            <label>Available from:</label>
                                            <input type="date" value="2025-02-01" class="availability-input">
                                        </div>
                                        <div class="date-range">
                                            <label>Available until:</label>
                                            <input type="date" value="2025-04-30" class="availability-input">
                                        </div>
                                    </div>
                                </div>

                                <div class="availability-item">
                                    <h5>Time Off Requests</h5>
                                    <div class="time-off-list">
                                        <div class="time-off-item">
                                            <span>Feb 14-16, 2025</span>
                                            <span class="time-off-reason">Personal</span>
                                            <button class="btn-small secondary" onclick="editTimeOff(1)">Edit</button>
                                        </div>
                                        <div class="time-off-item">
                                            <span>Mar 20-22, 2025</span>
                                            <span class="time-off-reason">Conference</span>
                                            <button class="btn-small secondary" onclick="editTimeOff(2)">Edit</button>
                                        </div>
                                    </div>
                                    <button class="btn-small primary" onclick="requestTimeOff()">Request Time Off</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messaging and Communication Center -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Messages & Communication</h2>
                        <div class="section-actions">
                            <button class="btn-small secondary" onclick="switchMessageView('messages')">Messages</button>
                            <button class="btn-small secondary" onclick="switchMessageView('contacts')">Contacts</button>
                            <button class="btn-small secondary" onclick="switchMessageView('notifications')">Notifications</button>
                            <button class="btn-small primary" onclick="composeMessage()">Compose</button>
                        </div>
                    </div>

                    <!-- Messages View -->
                    <div id="messages-view" class="message-view active">
                        <div class="messages-container">
                            <div class="message-thread">
                                <div class="message-item unread">
                                    <div class="message-avatar">
                                        <div class="avatar-circle">RM</div>
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <h4>Rebecca Martinez</h4>
                                            <span class="message-role">Recruiter - Stanford Health Care</span>
                                            <span class="message-time">2 hours ago</span>
                                        </div>
                                        <div class="message-preview">
                                            Dr. Chen, we'd like to discuss extending your current contract. Please let me know when you're available for a call to discuss terms and rates.
                                        </div>
                                        <div class="message-actions">
                                            <button class="btn-small primary" onclick="openMessage(1)">Read</button>
                                            <button class="btn-small secondary" onclick="quickReply(1)">Quick Reply</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="message-item">
                                    <div class="message-avatar">
                                        <div class="avatar-circle">JT</div>
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <h4>John Thompson</h4>
                                            <span class="message-role">Facility Manager - Metro General</span>
                                            <span class="message-time">1 day ago</span>
                                        </div>
                                        <div class="message-preview">
                                            Thank you for your excellent work this week. The nursing staff has provided outstanding feedback about your patient care and professionalism.
                                        </div>
                                        <div class="message-actions">
                                            <button class="btn-small primary" onclick="openMessage(2)">Read</button>
                                            <button class="btn-small secondary" onclick="archiveMessage(2)">Archive</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="message-item">
                                    <div class="message-avatar">
                                        <div class="avatar-circle">AS</div>
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <h4>Admin Support</h4>
                                            <span class="message-role">LocumTrueRate Platform</span>
                                            <span class="message-time">2 days ago</span>
                                        </div>
                                        <div class="message-preview">
                                            Your credential renewal reminder: DEA Registration expires on April 30, 2025. Click here to start the renewal process.
                                        </div>
                                        <div class="message-actions">
                                            <button class="btn-small primary" onclick="openMessage(3)">Read</button>
                                            <button class="btn-small accent" onclick="renewFromMessage(3)">Renew</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contacts View -->
                    <div id="contacts-view" class="message-view">
                        <div class="contacts-container">
                            <div class="contact-categories">
                                <div class="contact-category">
                                    <h4>Recruiters</h4>
                                    <div class="contact-list">
                                        <div class="contact-item">
                                            <div class="contact-avatar">RM</div>
                                            <div class="contact-info">
                                                <h5>Rebecca Martinez</h5>
                                                <p>Stanford Health Care</p>
                                                <div class="contact-details">
                                                    <span>📞 (650) 555-0123</span>
                                                    <span>✉️ rebecca.martinez@stanford.edu</span>
                                                </div>
                                            </div>
                                            <div class="contact-actions">
                                                <button class="btn-small primary" onclick="messageContact('rebecca')">Message</button>
                                                <button class="btn-small secondary" onclick="callContact('rebecca')">Call</button>
                                            </div>
                                        </div>

                                        <div class="contact-item">
                                            <div class="contact-avatar">MS</div>
                                            <div class="contact-info">
                                                <h5>Michael Stevens</h5>
                                                <p>Banner Health</p>
                                                <div class="contact-details">
                                                    <span>📞 (602) 555-0156</span>
                                                    <span>✉️ m.stevens@bannerhealth.com</span>
                                                </div>
                                            </div>
                                            <div class="contact-actions">
                                                <button class="btn-small primary" onclick="messageContact('michael')">Message</button>
                                                <button class="btn-small secondary" onclick="callContact('michael')">Call</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="contact-category">
                                    <h4>Facility Managers</h4>
                                    <div class="contact-list">
                                        <div class="contact-item">
                                            <div class="contact-avatar">JT</div>
                                            <div class="contact-info">
                                                <h5>John Thompson</h5>
                                                <p>Metro General Hospital</p>
                                                <div class="contact-details">
                                                    <span>📞 (213) 555-0187</span>
                                                    <span>✉️ jthompson@metrogeneral.org</span>
                                                </div>
                                            </div>
                                            <div class="contact-actions">
                                                <button class="btn-small primary" onclick="messageContact('john')">Message</button>
                                                <button class="btn-small secondary" onclick="callContact('john')">Call</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="contact-category">
                                    <h4>Emergency Contacts</h4>
                                    <div class="contact-list">
                                        <div class="contact-item emergency">
                                            <div class="contact-avatar">🚨</div>
                                            <div class="contact-info">
                                                <h5>24/7 Support Line</h5>
                                                <p>LocumTrueRate Emergency</p>
                                                <div class="contact-details">
                                                    <span>📞 1-800-LOCUM-ER</span>
                                                    <span>✉️ emergency@locumtruerate.com</span>
                                                </div>
                                            </div>
                                            <div class="contact-actions">
                                                <button class="btn-small accent" onclick="callEmergency()">Call Now</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notifications View -->
                    <div id="notifications-view" class="message-view">
                        <div class="notifications-container">
                            <h4>Notification Preferences</h4>
                            
                            <div class="notification-settings">
                                <div class="notification-category">
                                    <h5>Job Opportunities</h5>
                                    <div class="notification-options">
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>Email notifications for new job matches</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>SMS alerts for urgent positions</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox">
                                            <span>Push notifications on mobile app</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="notification-category">
                                    <h5>Contract Updates</h5>
                                    <div class="notification-options">
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>Contract extension offers</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>Schedule changes</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>Payment confirmations</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="notification-category">
                                    <h5>Credential Reminders</h5>
                                    <div class="notification-options">
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>License expiration warnings (90 days)</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox" checked>
                                            <span>Certification renewal reminders</span>
                                        </label>
                                        <label class="notification-option">
                                            <input type="checkbox">
                                            <span>Continuing education requirements</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="notification-actions">
                                <button class="btn-small primary" onclick="saveNotificationSettings()">Save Settings</button>
                                <button class="btn-small secondary" onclick="testNotifications()">Test Notifications</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Saved Calculations -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Saved Calculations</h2>
                        <div class="section-actions">
                            <button class="btn-small secondary" onclick="exportCalculations()">Export All</button>
                            <button class="btn-small primary" onclick="compareCalculations()">Compare</button>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                        <div style="padding: 1rem; border: 1px solid var(--border-color); border-radius: 0.75rem; background: var(--background-color);">
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Metropolitan General Contract</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Calculated: Jan 15, 2025</p>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Total Value:</span>
                                <strong>$298,400</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <span>True Rate:</span>
                                <strong>$476.83/hr</strong>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="action-btn primary" onclick="viewCalculation(1)">View</button>
                                <button class="action-btn secondary" onclick="useCalculation(1)">Use</button>
                            </div>
                        </div>

                        <div style="padding: 1rem; border: 1px solid var(--border-color); border-radius: 0.75rem; background: var(--background-color);">
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Houston Medical Paycheck</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Calculated: Jan 10, 2025</p>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Weekly Net:</span>
                                <strong>$5,240</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <span>Monthly Est:</span>
                                <strong>$22,707</strong>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="action-btn primary" onclick="viewCalculation(2)">View</button>
                                <button class="action-btn secondary" onclick="useCalculation(2)">Use</button>
                            </div>
                        </div>

                        <div style="padding: 1rem; border: 1px solid var(--border-color); border-radius: 0.75rem; background: var(--background-color);">
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Valley Rural Position</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Calculated: Jan 8, 2025</p>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>Total Value:</span>
                                <strong>$109,440</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                <span>True Rate:</span>
                                <strong>$380.00/hr</strong>
                            </div>
                            <div style="display: flex; gap: 0.5rem;">
                                <button class="action-btn primary" onclick="viewCalculation(3)">View</button>
                                <button class="action-btn secondary" onclick="useCalculation(3)">Use</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment History and Expense Tracking -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Financial Tracking</h2>
                        <div class="section-actions">
                            <div class="view-controls">
                                <button class="btn-small secondary" onclick="switchFinancialView('payments')">Payments</button>
                                <button class="btn-small secondary" onclick="switchFinancialView('expenses')">Expenses</button>
                            </div>
                            <div class="sort-controls">
                                <label for="payment-sort-select" class="sr-only">Sort payments by</label>
                                <select id="payment-sort-select" class="sort-select" onchange="sortPayments(this.value)" aria-label="Sort payments">
                                    <option value="date-desc">Date (Latest)</option>
                                    <option value="date-asc">Date (Oldest)</option>
                                    <option value="amount-desc">Amount (Highest)</option>
                                    <option value="amount-asc">Amount (Lowest)</option>
                                    <option value="facility-asc">Facility (A-Z)</option>
                                    <option value="status-asc">Status</option>
                                </select>
                            </div>
                            <button class="btn-small primary" onclick="exportFinancialData()">Export</button>
                        </div>
                    </div>

                    <!-- Payment History -->
                    <div id="payments-view" class="financial-view active">
                        <div class="financial-summary">
                            <div class="summary-card">
                                <h4>Total Earnings (YTD)</h4>
                                <div class="summary-amount">$847,450</div>
                                <div class="summary-change positive">↗ +15% vs last year</div>
                            </div>
                            <div class="summary-card">
                                <h4>Pending Payments</h4>
                                <div class="summary-amount">$42,800</div>
                                <div class="summary-note">Expected: Jan 30</div>
                            </div>
                            <div class="summary-card">
                                <h4>Average Weekly</h4>
                                <div class="summary-amount">$16,950</div>
                                <div class="summary-note">Based on last 12 weeks</div>
                            </div>
                        </div>

                        <div class="payments-list">
                            <div class="payment-item">
                                <div class="payment-info">
                                    <h4>Metropolitan General Hospital</h4>
                                    <div class="payment-period">Week of Jan 8-14, 2025</div>
                                    <div class="payment-details">48 hours • $350/hr • Housing: $1,800</div>
                                </div>
                                <div class="payment-amount">
                                    <div class="gross-amount">$18,600</div>
                                    <div class="net-amount">Net: $14,250</div>
                                </div>
                                <div class="payment-status">
                                    <span class="status-pill paid">Paid</span>
                                    <div class="payment-date">Jan 16, 2025</div>
                                </div>
                            </div>

                            <div class="payment-item">
                                <div class="payment-info">
                                    <h4>Houston Medical Center</h4>
                                    <div class="payment-period">Week of Jan 1-7, 2025</div>
                                    <div class="payment-details">40 hours • $325/hr • Housing: $1,400</div>
                                </div>
                                <div class="payment-amount">
                                    <div class="gross-amount">$14,400</div>
                                    <div class="net-amount">Net: $11,050</div>
                                </div>
                                <div class="payment-status">
                                    <span class="status-pill paid">Paid</span>
                                    <div class="payment-date">Jan 9, 2025</div>
                                </div>
                            </div>

                            <div class="payment-item">
                                <div class="payment-info">
                                    <h4>Stanford Health Care</h4>
                                    <div class="payment-period">Week of Dec 25-31, 2024</div>
                                    <div class="payment-details">36 hours • $425/hr • Holiday Premium</div>
                                </div>
                                <div class="payment-amount">
                                    <div class="gross-amount">$15,300</div>
                                    <div class="net-amount">Net: $11,725</div>
                                </div>
                                <div class="payment-status">
                                    <span class="status-pill processing">Processing</span>
                                    <div class="payment-date">Expected: Jan 22</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Expense Tracking -->
                    <div id="expenses-view" class="financial-view">
                        <div class="financial-summary">
                            <div class="summary-card">
                                <h4>Total Expenses (YTD)</h4>
                                <div class="summary-amount">$28,750</div>
                                <div class="summary-change positive">↗ Tax deductible: $24,600</div>
                            </div>
                            <div class="summary-card">
                                <h4>This Month</h4>
                                <div class="summary-amount">$4,250</div>
                                <div class="summary-note">15 transactions</div>
                            </div>
                            <div class="summary-card">
                                <h4>Top Category</h4>
                                <div class="summary-amount">Travel</div>
                                <div class="summary-note">$12,400 (43%)</div>
                            </div>
                        </div>

                        <div class="expense-categories">
                            <div class="category-item">
                                <div class="category-info">
                                    <h4>✈️ Travel & Transportation</h4>
                                    <div class="category-amount">$12,400</div>
                                </div>
                                <div class="category-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 43%"></div>
                                    </div>
                                    <span>43% of total</span>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-info">
                                    <h4>🏨 Temporary Housing</h4>
                                    <div class="category-amount">$8,200</div>
                                </div>
                                <div class="category-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 29%"></div>
                                    </div>
                                    <span>29% of total</span>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-info">
                                    <h4>🍽️ Meals & Per Diem</h4>
                                    <div class="category-amount">$4,800</div>
                                </div>
                                <div class="category-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 17%"></div>
                                    </div>
                                    <span>17% of total</span>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-info">
                                    <h4>📚 Professional Development</h4>
                                    <div class="category-amount">$2,150</div>
                                </div>
                                <div class="category-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 7%"></div>
                                    </div>
                                    <span>7% of total</span>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-info">
                                    <h4>💼 Equipment & Supplies</h4>
                                    <div class="category-amount">$1,200</div>
                                </div>
                                <div class="category-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 4%"></div>
                                    </div>
                                    <span>4% of total</span>
                                </div>
                            </div>
                        </div>

                        <div class="expense-actions">
                            <button class="btn-small primary" onclick="addExpense()">Add Expense</button>
                            <button class="btn-small secondary" onclick="uploadReceipts()">Upload Receipts</button>
                            <button class="btn-small accent" onclick="generateTaxReport()">Tax Report</button>
                        </div>
                    </div>
                </div>

                <!-- Account Settings and Preferences -->
                <div class="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">Account Settings</h2>
                        <div class="section-actions">
                            <button class="btn-small secondary" onclick="switchSettingsView('profile')">Profile</button>
                            <button class="btn-small secondary" onclick="switchSettingsView('privacy')">Privacy</button>
                            <button class="btn-small secondary" onclick="switchSettingsView('preferences')">Preferences</button>
                            <button class="btn-small secondary" onclick="switchSettingsView('payment-methods')">Payment Methods</button>
                            <button class="btn-small primary" onclick="saveAllSettings()">Save Changes</button>
                        </div>
                    </div>

                    <!-- Profile Settings -->
                    <div id="profile-view" class="settings-view active">
                        <div class="settings-grid">
                            <div class="settings-section">
                                <h4>Personal Information</h4>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>First Name</label>
                                        <input type="text" value="Emily" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name</label>
                                        <input type="text" value="Chen" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Email Address</label>
                                        <input type="email" value="emily.chen@locumtruerate.com" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Phone Number</label>
                                        <input type="tel" value="(555) 123-4567" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Specialty</label>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option selected>Emergency Medicine</option>
                                            <option>Internal Medicine</option>
                                            <option>Family Medicine</option>
                                            <option>Hospitalist</option>
                                            <option>Critical Care</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Years of Experience</label>
                                        <input type="number" value="12" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Professional Details</h4>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Medical School</label>
                                        <input type="text" value="Stanford University School of Medicine" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Residency</label>
                                        <input type="text" value="UCSF Emergency Medicine" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Board Certifications</label>
                                        <textarea class="settings-input" rows="3" onchange="markSettingsChanged()">American Board of Emergency Medicine
American Board of Internal Medicine</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Professional Bio</label>
                                        <textarea class="settings-input" rows="4" onchange="markSettingsChanged()">Experienced emergency medicine physician with 12 years of practice in high-volume urban trauma centers. Specialized in critical care and emergency procedures.</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Privacy Settings -->
                    <div id="privacy-view" class="settings-view">
                        <div class="settings-grid">
                            <div class="settings-section">
                                <h4>Profile Visibility</h4>
                                <div class="privacy-options">
                                    <label class="privacy-option">
                                        <input type="radio" name="profile-visibility" value="public" checked onchange="markSettingsChanged()">
                                        <span>Public - Visible to all recruiters and facilities</span>
                                    </label>
                                    <label class="privacy-option">
                                        <input type="radio" name="profile-visibility" value="limited" onchange="markSettingsChanged()">
                                        <span>Limited - Only visible to verified partners</span>
                                    </label>
                                    <label class="privacy-option">
                                        <input type="radio" name="profile-visibility" value="private" onchange="markSettingsChanged()">
                                        <span>Private - Hidden from search results</span>
                                    </label>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Data Sharing</h4>
                                <div class="privacy-toggles">
                                    <label class="privacy-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Share performance ratings with potential employers</span>
                                    </label>
                                    <label class="privacy-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Allow anonymous feedback collection</span>
                                    </label>
                                    <label class="privacy-toggle">
                                        <input type="checkbox" onchange="markSettingsChanged()">
                                        <span>Share salary information for market research</span>
                                    </label>
                                    <label class="privacy-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Include in LocumTrueRate success stories</span>
                                    </label>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Security Settings</h4>
                                <div class="security-options">
                                    <button class="btn-small secondary" onclick="changePassword()">Change Password</button>
                                    <button class="btn-small secondary" onclick="setupTwoFactor()">Enable 2FA</button>
                                    <button class="btn-small secondary" onclick="downloadData()">Download My Data</button>
                                    <button class="btn-small accent" onclick="deleteAccount()">Delete Account</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Preferences Settings -->
                    <div id="preferences-view" class="settings-view">
                        <div class="settings-grid">
                            <div class="settings-section">
                                <h4>Communication Preferences</h4>
                                <div class="preference-options">
                                    <label class="preference-option">
                                        <span>Preferred Contact Method</span>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option selected>Email</option>
                                            <option>Phone</option>
                                            <option>SMS</option>
                                            <option>LocumTrueRate Messages</option>
                                        </select>
                                    </label>
                                    <label class="preference-option">
                                        <span>Best Time to Contact</span>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Any Time</option>
                                            <option selected>Business Hours (9-5)</option>
                                            <option>Evenings (5-9 PM)</option>
                                            <option>Weekends Only</option>
                                        </select>
                                    </label>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Job Search Preferences</h4>
                                <div class="preference-options">
                                    <label class="preference-option">
                                        <span>Job Alert Frequency</span>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Immediate</option>
                                            <option selected>Daily Digest</option>
                                            <option>Weekly Summary</option>
                                            <option>Monthly Report</option>
                                        </select>
                                    </label>
                                    <label class="preference-option">
                                        <span>Minimum Contract Duration</span>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Any Duration</option>
                                            <option>1 Week+</option>
                                            <option>4 Weeks+</option>
                                            <option selected>8 Weeks+</option>
                                            <option>13 Weeks+</option>
                                        </select>
                                    </label>
                                    <label class="preference-option">
                                        <span>Travel Distance</span>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Local Only (0-25 miles)</option>
                                            <option>Regional (25-100 miles)</option>
                                            <option selected>National (100+ miles)</option>
                                            <option>International</option>
                                        </select>
                                    </label>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Dashboard Preferences</h4>
                                <div class="preference-toggles">
                                    <label class="preference-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Show earnings on dashboard</span>
                                    </label>
                                    <label class="preference-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Display upcoming contract reminders</span>
                                    </label>
                                    <label class="preference-toggle">
                                        <input type="checkbox" onchange="markSettingsChanged()">
                                        <span>Enable dark mode</span>
                                    </label>
                                    <label class="preference-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Show performance metrics</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods Settings -->
                    <div id="payment-methods-view" class="settings-view">
                        <div class="settings-grid">
                            <div class="settings-section">
                                <h4>Payment Methods</h4>
                                <div class="payment-methods-list">
                                    <div class="payment-method">
                                        <div class="payment-info">
                                            <div class="payment-type">
                                                <span class="payment-icon">💳</span>
                                                <div>
                                                    <strong>Bank Account (Primary)</strong>
                                                    <div class="payment-details">Wells Fargo ****1234</div>
                                                </div>
                                            </div>
                                            <span class="payment-status primary">Primary</span>
                                        </div>
                                        <div class="payment-actions">
                                            <button class="btn-small secondary" onclick="editPaymentMethod('bank1')">Edit</button>
                                            <button class="btn-small danger" onclick="removePaymentMethod('bank1')">Remove</button>
                                        </div>
                                    </div>
                                    <div class="payment-method">
                                        <div class="payment-info">
                                            <div class="payment-type">
                                                <span class="payment-icon">💳</span>
                                                <div>
                                                    <strong>Debit Card</strong>
                                                    <div class="payment-details">Visa ****5678</div>
                                                </div>
                                            </div>
                                            <span class="payment-status">Backup</span>
                                        </div>
                                        <div class="payment-actions">
                                            <button class="btn-small secondary" onclick="editPaymentMethod('card1')">Edit</button>
                                            <button class="btn-small secondary" onclick="setPrimaryPayment('card1')">Make Primary</button>
                                            <button class="btn-small danger" onclick="removePaymentMethod('card1')">Remove</button>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn primary" onclick="addPaymentMethod()">
                                    <span>+</span> Add New Payment Method
                                </button>
                            </div>

                            <div class="settings-section">
                                <h4>Payment Preferences</h4>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Payment Frequency</label>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Weekly</option>
                                            <option selected>Bi-weekly</option>
                                            <option>Monthly</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Payment Day</label>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Monday</option>
                                            <option>Tuesday</option>
                                            <option>Wednesday</option>
                                            <option>Thursday</option>
                                            <option selected>Friday</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Currency</label>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option selected>USD ($)</option>
                                            <option>CAD ($)</option>
                                            <option>EUR (€)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="preference-toggles">
                                    <label class="preference-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>Email payment notifications</span>
                                    </label>
                                    <label class="preference-toggle">
                                        <input type="checkbox" checked onchange="markSettingsChanged()">
                                        <span>SMS payment alerts</span>
                                    </label>
                                    <label class="preference-toggle">
                                        <input type="checkbox" onchange="markSettingsChanged()">
                                        <span>Auto-deposit when available</span>
                                    </label>
                                </div>
                            </div>

                            <div class="settings-section">
                                <h4>Tax Information</h4>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Tax ID / SSN</label>
                                        <input type="text" value="***-**-1234" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                    <div class="form-group">
                                        <label>Tax Filing Status</label>
                                        <select class="settings-input" onchange="markSettingsChanged()">
                                            <option>Single</option>
                                            <option selected>Married Filing Jointly</option>
                                            <option>Married Filing Separately</option>
                                            <option>Head of Household</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Additional Tax Withholding</label>
                                        <input type="number" value="0" min="0" step="0.01" class="settings-input" onchange="markSettingsChanged()">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-container">
                    <div class="footer-section">
                        <h4>LocumTrueRate</h4>
                        <p>Empowering healthcare professionals with accurate contract analysis and job matching.</p>
                    </div>
                    <div class="footer-section">
                        <h5>Tools</h5>
                        <ul>
                            <li><a href="paycheck-calculator.html">Paycheck Calculator</a></li>
                            <li><a href="contract-calculator.html">Contract Calculator</a></li>
                            <li><a href="job-board.html">Job Board</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h5>Support</h5>
                        <ul>
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2025 LocumTrueRate. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Saved Jobs functionality
        function filterSavedJobs(filter) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            const jobCards = document.querySelectorAll('.job-card');
            jobCards.forEach(card => {
                if (filter === 'all') {
                    card.classList.remove('hidden');
                } else {
                    const jobType = card.getAttribute('data-job-type');
                    if (jobType === filter || jobType === 'all') {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                }
            });
            
            console.log(`Filtered saved jobs: ${filter}`);
        }

        function viewJobDetails(jobId) {
            const jobDetails = {
                1: {
                    title: 'Emergency Medicine Physician',
                    facility: 'Riverside Regional Medical Center',
                    location: 'Newport News, VA',
                    rate: '$395/hr',
                    duration: '4 weeks',
                    description: 'Urgent need for experienced ER physician in Level II trauma center. High acuity cases, fast-paced environment.'
                },
                2: {
                    title: 'ER Physician - Level 1 Trauma',
                    facility: 'Stanford Health Care',
                    location: 'Palo Alto, CA',
                    rate: '$425/hr',
                    duration: '12 weeks',
                    description: 'Premier academic medical center seeking board-certified emergency medicine physician for level 1 trauma center.'
                },
                3: {
                    title: 'Emergency Medicine - Rural',
                    facility: 'Banner Health',
                    location: 'Flagstaff, AZ',
                    rate: '$370/hr',
                    duration: '26 weeks',
                    description: 'Rural emergency medicine position with excellent work-life balance. Beautiful mountain location.'
                }
            };
            
            const job = jobDetails[jobId];
            console.log(`Viewing job details for: ${job.title} at ${job.facility}`);
            showToast(`Viewing details for ${job.title}`, 'info');
        }

        function applyToJob(jobId) {
            console.log(`Applying to job ${jobId}`);
            showToast('Application submitted successfully!', 'success');
            
            // Update application tracking
            updateApplicationStatus(jobId, 'applied');
        }

        function removeFromSaved(jobId) {
            const confirmed = confirm('Are you sure you want to remove this job from your saved list?');
            if (confirmed) {
                const jobCard = document.querySelector(`.job-card[onclick*="${jobId}"]`)?.closest('.job-card');
                if (jobCard) {
                    jobCard.style.animation = 'fadeOut 0.3s ease-in-out';
                    setTimeout(() => {
                        jobCard.remove();
                    }, 300);
                }
                console.log(`Removed job ${jobId} from saved list`);
                showToast('Job removed from saved list', 'info');
            }
        }

        function findNewJobs() {
            console.log('Redirecting to job board to find new positions');
            showToast('Redirecting to job board...', 'info');
            setTimeout(() => {
                window.location.href = 'job-board.html';
            }, 1000);
        }

        // Application tracking functionality
        function updateApplicationStatus(jobId, status) {
            console.log(`Updated application ${jobId} status to: ${status}`);
            
            // Store in localStorage for persistence
            const applications = JSON.parse(localStorage.getItem('applications') || '{}');
            applications[jobId] = {
                status: status,
                date: new Date().toISOString(),
                jobTitle: getJobTitle(jobId)
            };
            localStorage.setItem('applications', JSON.stringify(applications));
        }

        function getJobTitle(jobId) {
            const titles = {
                1: 'Emergency Medicine Physician - Riverside Regional',
                2: 'ER Physician - Level 1 Trauma - Stanford',
                3: 'Emergency Medicine - Rural - Banner Health'
            };
            return titles[jobId] || 'Unknown Position';
        }

        // Application status tracking functionality
        function filterApplications(filter) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            const applicationItems = document.querySelectorAll('.application-item');
            applicationItems.forEach(item => {
                const status = item.getAttribute('data-status');
                if (filter === 'all') {
                    item.classList.remove('hidden');
                } else if (filter === 'active' && ['applied', 'interview', 'offer'].includes(status)) {
                    item.classList.remove('hidden');
                } else if (filter === status) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
            
            console.log(`Filtered applications: ${filter}`);
        }

        function viewApplicationDetails(applicationId) {
            const applications = {
                1: { title: 'Emergency Medicine Physician', facility: 'Riverside Regional Medical Center', status: 'Applied' },
                2: { title: 'ER Physician - Level 1 Trauma', facility: 'Stanford Health Care', status: 'Interview Scheduled' },
                3: { title: 'Emergency Medicine - Rural', facility: 'Banner Health', status: 'Offer Received' },
                4: { title: 'Emergency Medicine Locum', facility: 'Houston Methodist', status: 'Not Selected' }
            };
            
            const app = applications[applicationId];
            console.log(`Viewing application details for: ${app.title} at ${app.facility}`);
            showToast(`Viewing details for ${app.title}`, 'info');
        }

        function withdrawApplication(applicationId) {
            const confirmed = confirm('Are you sure you want to withdraw this application? This action cannot be undone.');
            if (confirmed) {
                console.log(`Withdrawing application ${applicationId}`);
                showToast('Application withdrawn successfully', 'warning');
                
                // Update status to withdrawn
                const applicationItem = document.querySelector(`.application-item[onclick*="${applicationId}"]`)?.closest('.application-item');
                if (applicationItem) {
                    const statusPill = applicationItem.querySelector('.application-status-pill');
                    statusPill.textContent = 'Withdrawn';
                    statusPill.className = 'application-status-pill rejected';
                    applicationItem.setAttribute('data-status', 'withdrawn');
                }
            }
        }

        function prepareForInterview(applicationId) {
            console.log(`Preparing for interview for application ${applicationId}`);
            showToast('Opening interview preparation guide...', 'info');
        }

        function acceptOffer(applicationId) {
            const confirmed = confirm('Are you sure you want to accept this offer? This will commit you to the position.');
            if (confirmed) {
                console.log(`Accepting offer for application ${applicationId}`);
                showToast('Offer accepted! Contract details will be sent shortly.', 'success');
                
                // Update status to accepted
                const applicationItem = document.querySelector(`.application-item[onclick*="${applicationId}"]`)?.closest('.application-item');
                if (applicationItem) {
                    const statusPill = applicationItem.querySelector('.application-status-pill');
                    statusPill.textContent = 'Offer Accepted';
                    statusPill.className = 'application-status-pill offer';
                    applicationItem.setAttribute('data-status', 'accepted');
                }
            }
        }

        function declineOffer(applicationId) {
            const confirmed = confirm('Are you sure you want to decline this offer?');
            if (confirmed) {
                console.log(`Declining offer for application ${applicationId}`);
                showToast('Offer declined. Thank you message sent to employer.', 'info');
                
                // Update status to declined
                const applicationItem = document.querySelector(`.application-item[onclick*="${applicationId}"]`)?.closest('.application-item');
                if (applicationItem) {
                    const statusPill = applicationItem.querySelector('.application-status-pill');
                    statusPill.textContent = 'Offer Declined';
                    statusPill.className = 'application-status-pill rejected';
                    applicationItem.setAttribute('data-status', 'declined');
                }
            }
        }

        function archiveApplication(applicationId) {
            console.log(`Archiving application ${applicationId}`);
            const applicationItem = document.querySelector(`.application-item[onclick*="${applicationId}"]`)?.closest('.application-item');
            if (applicationItem) {
                applicationItem.style.animation = 'fadeOut 0.3s ease-in-out';
                setTimeout(() => {
                    applicationItem.remove();
                }, 300);
            }
            showToast('Application archived', 'info');
        }

        function refreshApplications() {
            console.log('Refreshing application status...');
            showToast('Application statuses updated', 'success');
        }

        // Financial tracking functionality
        function switchFinancialView(view) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            // Hide all views
            document.querySelectorAll('.financial-view').forEach(v => v.classList.remove('active'));
            
            // Show selected view
            document.getElementById(`${view}-view`).classList.add('active');
            
            console.log(`Switched to ${view} view`);
        }

        function exportFinancialData() {
            console.log('Exporting financial data...');
            showToast('Financial data exported successfully', 'success');
        }

        function addExpense() {
            console.log('Opening add expense form...');
            showToast('Add expense form opened', 'info');
        }

        function uploadReceipts() {
            console.log('Opening receipt upload interface...');
            showToast('Receipt upload interface opened', 'info');
        }

        function generateTaxReport() {
            console.log('Generating tax report...');
            showToast('Tax report generated successfully', 'success');
        }

        // Credential management functionality
        function viewCredential(type) {
            const credentials = {
                license: 'Medical License',
                board: 'Board Certification',
                dea: 'DEA Registration',
                immunization: 'Immunization Records',
                malpractice: 'Malpractice Insurance',
                bls: 'BLS/ACLS Certification'
            };
            
            console.log(`Viewing ${credentials[type]}`);
            showToast(`Opening ${credentials[type]} details`, 'info');
        }

        function updateCredential(type) {
            const credentials = {
                license: 'Medical License',
                board: 'Board Certification',
                dea: 'DEA Registration',
                immunization: 'Immunization Records',
                malpractice: 'Malpractice Insurance',
                bls: 'BLS/ACLS Certification'
            };
            
            console.log(`Updating ${credentials[type]}`);
            showToast(`Update form opened for ${credentials[type]}`, 'info');
        }

        function renewCredential(type) {
            const credentials = {
                dea: 'DEA Registration'
            };
            
            console.log(`Renewing ${credentials[type]}`);
            showToast(`Renewal process started for ${credentials[type]}`, 'success');
        }

        function triggerFileUpload() {
            document.getElementById('credential-upload').click();
        }

        function handleFileUpload(event) {
            const files = event.target.files;
            if (files.length > 0) {
                console.log(`Selected ${files.length} file(s) for upload`);
                for (let i = 0; i < files.length; i++) {
                    console.log(`File ${i + 1}: ${files[i].name} (${files[i].size} bytes)`);
                }
                showToast(`Selected ${files.length} file(s) for upload`, 'info');
            }
        }

        function uploadCredential() {
            console.log('Starting credential upload process...');
            showToast('Credential upload initiated', 'success');
        }

        function scanDocument() {
            console.log('Opening document scanner...');
            showToast('Document scanner opened', 'info');
        }

        function requestCredential() {
            console.log('Requesting credential from provider...');
            showToast('Credential request sent to provider', 'success');
        }

        // Calendar and scheduling functionality
        function switchCalendarView(view) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            // Hide all views
            document.querySelectorAll('.calendar-view').forEach(v => v.classList.remove('active'));
            
            // Show selected view
            document.getElementById(`${view}-view`).classList.add('active');
            
            console.log(`Switched to ${view} calendar view`);
        }

        function navigateCalendar(direction) {
            const monthElement = document.getElementById('current-month');
            const currentMonth = monthElement.textContent;
            
            console.log(`Navigating calendar ${direction} from ${currentMonth}`);
            
            // Simple demo - just show different months
            if (direction === 'next') {
                monthElement.textContent = 'February 2025';
            } else {
                monthElement.textContent = 'December 2024';
            }
            
            showToast(`Calendar navigated to ${monthElement.textContent}`, 'info');
        }

        function addScheduleItem() {
            console.log('Opening add schedule item form...');
            showToast('Add schedule item form opened', 'info');
        }

        function editTimeOff(timeOffId) {
            console.log(`Editing time off request ${timeOffId}`);
            showToast('Time off edit form opened', 'info');
        }

        function requestTimeOff() {
            console.log('Opening time off request form...');
            showToast('Time off request form opened', 'info');
        }

        // Messaging and communication functionality
        function switchMessageView(view) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            // Hide all views
            document.querySelectorAll('.message-view').forEach(v => v.classList.remove('active'));
            
            // Show selected view
            document.getElementById(`${view}-view`).classList.add('active');
            
            console.log(`Switched to ${view} message view`);
        }

        function composeMessage() {
            console.log('Opening compose message form...');
            showToast('Compose message form opened', 'info');
        }

        function openMessage(messageId) {
            const messages = {
                1: 'Contract extension discussion',
                2: 'Positive feedback from facility',
                3: 'Credential renewal reminder'
            };
            
            console.log(`Opening message ${messageId}: ${messages[messageId]}`);
            showToast(`Opening message: ${messages[messageId]}`, 'info');
            
            // Mark as read
            const messageItem = event.target.closest('.message-item');
            if (messageItem) {
                messageItem.classList.remove('unread');
            }
        }

        function quickReply(messageId) {
            console.log(`Opening quick reply for message ${messageId}`);
            showToast('Quick reply form opened', 'info');
        }

        function archiveMessage(messageId) {
            console.log(`Archiving message ${messageId}`);
            const messageItem = event.target.closest('.message-item');
            if (messageItem) {
                messageItem.style.animation = 'fadeOut 0.3s ease-in-out';
                setTimeout(() => {
                    messageItem.remove();
                }, 300);
            }
            showToast('Message archived', 'info');
        }

        function renewFromMessage(messageId) {
            console.log(`Starting renewal process from message ${messageId}`);
            showToast('Credential renewal process started', 'success');
        }

        function messageContact(contactId) {
            const contacts = {
                rebecca: 'Rebecca Martinez',
                michael: 'Michael Stevens',
                john: 'John Thompson'
            };
            
            console.log(`Messaging ${contacts[contactId]}`);
            showToast(`Opening message to ${contacts[contactId]}`, 'info');
        }

        function callContact(contactId) {
            const contacts = {
                rebecca: 'Rebecca Martinez - (650) 555-0123',
                michael: 'Michael Stevens - (602) 555-0156',
                john: 'John Thompson - (213) 555-0187'
            };
            
            console.log(`Calling ${contacts[contactId]}`);
            showToast(`Initiating call to ${contacts[contactId]}`, 'info');
        }

        function callEmergency() {
            console.log('Calling emergency support line');
            showToast('Connecting to 24/7 emergency support...', 'warning');
        }

        function saveNotificationSettings() {
            console.log('Saving notification preferences...');
            showToast('Notification preferences saved successfully', 'success');
        }

        function testNotifications() {
            console.log('Testing notification system...');
            showToast('Test notification sent! Check your email and phone.', 'info');
        }

        // Account settings functionality
        let settingsChanged = false;

        function switchSettingsView(view) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            // Hide all views
            document.querySelectorAll('.settings-view').forEach(v => v.classList.remove('active'));
            
            // Show selected view
            document.getElementById(`${view}-view`).classList.add('active');
            
            console.log(`Switched to ${view} settings view`);
        }

        function markSettingsChanged() {
            settingsChanged = true;
            event.target.classList.add('changed');
            console.log('Settings marked as changed');
        }

        function saveAllSettings() {
            if (!settingsChanged) {
                showToast('No changes to save', 'info');
                return;
            }
            
            console.log('Saving all settings changes...');
            
            // Remove changed styling from all inputs
            document.querySelectorAll('.settings-input.changed').forEach(input => {
                input.classList.remove('changed');
            });
            
            settingsChanged = false;
            showToast('All settings saved successfully', 'success');
        }

        function changePassword() {
            console.log('Opening change password form...');
            showToast('Change password form opened', 'info');
        }

        function setupTwoFactor() {
            console.log('Setting up two-factor authentication...');
            showToast('Two-factor authentication setup started', 'info');
        }

        function downloadData() {
            console.log('Preparing data download...');
            showToast('Your data download will be emailed to you within 24 hours', 'info');
        }

        function deleteAccount() {
            const confirmed = confirm('Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data, contracts, and history.');
            if (confirmed) {
                console.log('Account deletion process initiated');
                showToast('Account deletion process initiated. You will receive a confirmation email.', 'warning');
            }
        }

        // Payment method management functions
        function addPaymentMethod() {
            console.log('Opening add payment method form...');
            showToast('Add payment method form would open here', 'info');
            // In a real application, this would open a modal or navigate to a secure form
        }

        function editPaymentMethod(methodId) {
            console.log(`Editing payment method: ${methodId}`);
            showToast(`Editing payment method ${methodId}`, 'info');
            // In a real application, this would open an edit form with encrypted data
        }

        function removePaymentMethod(methodId) {
            const confirmed = confirm('Are you sure you want to remove this payment method?');
            if (confirmed) {
                console.log(`Removing payment method: ${methodId}`);
                showToast('Payment method removed successfully', 'success');
                // In a real application, this would remove the method from the backend
            }
        }

        function setPrimaryPayment(methodId) {
            console.log(`Setting payment method ${methodId} as primary`);
            showToast('Primary payment method updated', 'success');
            // In a real application, this would update the primary payment method
            // Update UI to reflect the change
            document.querySelectorAll('.payment-status').forEach(status => {
                status.textContent = 'Backup';
                status.classList.remove('primary');
            });
            // Find and update the selected method (simplified for demo)
            showToast('Payment method set as primary', 'success');
        }

        // Global search functionality
        let searchData = [
            { title: 'Current Assignments', section: 'Assignments', context: 'View and manage your active contracts and assignments' },
            { title: 'Payment History', section: 'Financial', context: 'Track your earnings and payment history' },
            { title: 'Saved Jobs', section: 'Jobs', context: 'Manage your bookmarked job opportunities' },
            { title: 'Application Status', section: 'Jobs', context: 'Track the status of your job applications' },
            { title: 'Calendar & Scheduling', section: 'Schedule', context: 'View your schedule and availability' },
            { title: 'Credentials & Licenses', section: 'Profile', context: 'Manage your professional credentials' },
            { title: 'Messages', section: 'Communication', context: 'View messages from recruiters and facilities' },
            { title: 'Account Settings', section: 'Settings', context: 'Update your profile and preferences' },
            { title: 'Payment Methods', section: 'Settings', context: 'Manage your payment and tax information' },
            { title: 'Notification Preferences', section: 'Settings', context: 'Control how you receive notifications' },
            { title: 'Privacy Settings', section: 'Settings', context: 'Manage your privacy and security settings' },
            { title: 'Expense Tracking', section: 'Financial', context: 'Track and categorize your business expenses' },
            { title: 'Active Contracts', section: 'Assignments', context: '3 active contracts currently running' },
            { title: 'Total Earnings', section: 'Financial', context: '$847K year-to-date earnings' },
            { title: 'Available Jobs', section: 'Jobs', context: '28 jobs currently available' },
            { title: 'Upcoming Payments', section: 'Financial', context: 'Next payment due in 3 days' }
        ];

        function performGlobalSearch(event) {
            const searchInput = document.getElementById('global-search');
            const searchResults = document.getElementById('search-results');
            const query = event ? event.target.value : searchInput.value;

            // Handle Enter key
            if (event && event.key === 'Enter') {
                event.preventDefault();
                performSearch(query, searchResults);
                return;
            }

            // Only search on Enter or button click for this demo
            if (!event || event.type === 'click') {
                performSearch(query, searchResults);
            }
        }

        function performSearch(query, resultsContainer) {
            if (!query || query.length < 2) {
                resultsContainer.classList.remove('active');
                return;
            }

            const results = searchData.filter(item => 
                item.title.toLowerCase().includes(query.toLowerCase()) ||
                item.section.toLowerCase().includes(query.toLowerCase()) ||
                item.context.toLowerCase().includes(query.toLowerCase())
            );

            displaySearchResults(results, resultsContainer, query);
        }

        function displaySearchResults(results, container, query) {
            container.innerHTML = '';

            if (results.length === 0) {
                container.innerHTML = '<div class="search-no-results">No results found for "' + query + '"</div>';
                container.classList.add('active');
                return;
            }

            results.forEach((result, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                resultItem.setAttribute('tabindex', '0');
                resultItem.setAttribute('role', 'option');
                resultItem.setAttribute('aria-labelledby', `search-result-${index}`);
                
                resultItem.innerHTML = `
                    <div class="search-result-section">${result.section}</div>
                    <div class="search-result-title" id="search-result-${index}">${result.title}</div>
                    <div class="search-result-context">${result.context}</div>
                `;
                
                resultItem.addEventListener('click', () => {
                    navigateToResult(result);
                    hideSearchResults();
                });
                
                resultItem.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        navigateToResult(result);
                        hideSearchResults();
                    }
                });
                
                container.appendChild(resultItem);
            });

            container.classList.add('active');
        }

        function navigateToResult(result) {
            console.log(`Navigating to: ${result.title} in ${result.section}`);
            
            // Scroll to relevant section based on result
            const sectionMap = {
                'Assignments': '.assignments-section',
                'Financial': '.financial-section',
                'Jobs': '.jobs-section',
                'Schedule': '.calendar-section',
                'Profile': '.credentials-section',
                'Communication': '.messages-section',
                'Settings': '.account-settings'
            };
            
            const targetSelector = sectionMap[result.section];
            if (targetSelector) {
                const targetElement = document.querySelector(targetSelector);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    showToast(`Navigated to ${result.title}`, 'info');
                } else {
                    showToast(`${result.title} section found`, 'info');
                }
            } else {
                showToast(`Found: ${result.title}`, 'info');
            }
        }

        function hideSearchResults() {
            const searchResults = document.getElementById('search-results');
            const searchInput = document.getElementById('global-search');
            searchResults.classList.remove('active');
            searchInput.value = '';
        }

        // Hide search results when clicking outside
        document.addEventListener('click', function(event) {
            const searchContainer = document.querySelector('.nav-search');
            const searchResults = document.getElementById('search-results');
            
            if (!searchContainer.contains(event.target)) {
                searchResults.classList.remove('active');
            }
        });

        // Table sorting functionality
        function sortApplications(sortBy) {
            const container = document.querySelector('.applications-list');
            const items = Array.from(container.querySelectorAll('.application-item'));
            
            items.sort((a, b) => {
                switch (sortBy) {
                    case 'date-desc':
                        return compareDates(getApplicationDate(b), getApplicationDate(a));
                    case 'date-asc':
                        return compareDates(getApplicationDate(a), getApplicationDate(b));
                    case 'rate-desc':
                        return getApplicationRate(b) - getApplicationRate(a);
                    case 'rate-asc':
                        return getApplicationRate(a) - getApplicationRate(b);
                    case 'name-asc':
                        return getApplicationName(a).localeCompare(getApplicationName(b));
                    case 'name-desc':
                        return getApplicationName(b).localeCompare(getApplicationName(a));
                    case 'status-asc':
                        return getApplicationStatus(a).localeCompare(getApplicationStatus(b));
                    default:
                        return 0;
                }
            });
            
            // Remove all items and re-add in sorted order
            items.forEach(item => item.remove());
            items.forEach(item => container.appendChild(item));
            
            showToast(`Applications sorted by ${sortBy}`, 'info');
        }

        function sortPayments(sortBy) {
            const container = document.querySelector('#payments-view .payment-list');
            if (!container) return;
            
            const items = Array.from(container.querySelectorAll('.payment-item'));
            
            items.sort((a, b) => {
                switch (sortBy) {
                    case 'date-desc':
                        return compareDates(getPaymentDate(b), getPaymentDate(a));
                    case 'date-asc':
                        return compareDates(getPaymentDate(a), getPaymentDate(b));
                    case 'amount-desc':
                        return getPaymentAmount(b) - getPaymentAmount(a);
                    case 'amount-asc':
                        return getPaymentAmount(a) - getPaymentAmount(b);
                    case 'facility-asc':
                        return getPaymentFacility(a).localeCompare(getPaymentFacility(b));
                    case 'status-asc':
                        return getPaymentStatus(a).localeCompare(getPaymentStatus(b));
                    default:
                        return 0;
                }
            });
            
            // Remove all items and re-add in sorted order
            items.forEach(item => item.remove());
            items.forEach(item => container.appendChild(item));
            
            showToast(`Payments sorted by ${sortBy}`, 'info');
        }

        // Helper functions for extracting sort values
        function getApplicationDate(item) {
            const dateText = item.querySelector('.application-date')?.textContent || '';
            const dateMatch = dateText.match(/(\w{3} \d{1,2}, \d{4})/);
            return dateMatch ? new Date(dateMatch[1]) : new Date(0);
        }

        function getApplicationRate(item) {
            const rateText = item.querySelector('.application-rate')?.textContent || '$0';
            return parseFloat(rateText.replace(/[$,/hr]/g, '')) || 0;
        }

        function getApplicationName(item) {
            return item.querySelector('h3')?.textContent || '';
        }

        function getApplicationStatus(item) {
            return item.getAttribute('data-status') || '';
        }

        function getPaymentDate(item) {
            const dateText = item.querySelector('.payment-date')?.textContent || '';
            return new Date(dateText) || new Date(0);
        }

        function getPaymentAmount(item) {
            const amountText = item.querySelector('.payment-amount')?.textContent || '$0';
            return parseFloat(amountText.replace(/[$,]/g, '')) || 0;
        }

        function getPaymentFacility(item) {
            return item.querySelector('.payment-facility')?.textContent || '';
        }

        function getPaymentStatus(item) {
            return item.querySelector('.payment-status')?.textContent || '';
        }

        function compareDates(date1, date2) {
            return date1.getTime() - date2.getTime();
        }

        // Accessibility and keyboard navigation
        function initializeAccessibility() {
            // Add keyboard navigation to calendar days
            const calendarDays = document.querySelectorAll('.calendar-day');
            calendarDays.forEach(day => {
                day.setAttribute('tabindex', '0');
                day.setAttribute('role', 'button');
                day.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        day.click();
                    }
                });
            });

            // Add keyboard navigation to stat cards
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach(card => {
                card.setAttribute('tabindex', '0');
            });

            // Add keyboard navigation to job cards
            const jobCards = document.querySelectorAll('.job-card');
            jobCards.forEach(card => {
                card.setAttribute('tabindex', '0');
                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const firstButton = card.querySelector('button');
                        if (firstButton) firstButton.click();
                    }
                });
            });

            // Add keyboard navigation to message items
            const messageItems = document.querySelectorAll('.message-item');
            messageItems.forEach(item => {
                item.setAttribute('tabindex', '0');
                item.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const readButton = item.querySelector('button');
                        if (readButton) readButton.click();
                    }
                });
            });

            // Add keyboard navigation to application items
            const applicationItems = document.querySelectorAll('.application-item');
            applicationItems.forEach(item => {
                item.setAttribute('tabindex', '0');
                item.setAttribute('role', 'listitem');
                item.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const primaryButton = item.querySelector('.btn-primary');
                        if (primaryButton) primaryButton.click();
                    }
                });
            });

            // Add keyboard navigation to payment items
            const paymentItems = document.querySelectorAll('.payment-item');
            paymentItems.forEach(item => {
                item.setAttribute('tabindex', '0');
                item.setAttribute('role', 'listitem');
                item.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const button = item.querySelector('button');
                        if (button) button.click();
                    }
                });
            });

            // Enhanced keyboard navigation for form elements
            const formElements = document.querySelectorAll('input, select, textarea');
            formElements.forEach(element => {
                element.addEventListener('keydown', function(e) {
                    // Add escape key functionality
                    if (e.key === 'Escape') {
                        element.blur();
                    }
                });
            });

            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Alt + S for search
                if (e.altKey && e.key === 's') {
                    e.preventDefault();
                    const searchInput = document.getElementById('global-search');
                    if (searchInput) {
                        searchInput.focus();
                        announceToScreenReader('Search input focused');
                    }
                }
                
                // Alt + M for main content
                if (e.altKey && e.key === 'm') {
                    e.preventDefault();
                    const mainContent = document.getElementById('main-content');
                    if (mainContent) {
                        mainContent.focus();
                        announceToScreenReader('Jumped to main content');
                    }
                }
                
                // Escape to close modals/dropdowns
                if (e.key === 'Escape') {
                    const activeModal = document.querySelector('.modal.active');
                    const activeDropdown = document.querySelector('.dropdown-menu:hover');
                    const activeSearch = document.querySelector('.search-results.active');
                    
                    if (activeModal) {
                        activeModal.querySelector('.modal-close')?.click();
                    } else if (activeDropdown) {
                        activeDropdown.style.display = 'none';
                    } else if (activeSearch) {
                        hideSearchResults();
                    }
                }
            });

            // Enhanced focus management
            let lastFocusedElement = null;
            document.addEventListener('focusin', function(e) {
                lastFocusedElement = e.target;
            });

            // Enhanced ARIA labeling for interactive elements
            enhanceAriaLabels();

            // Add ARIA labels to buttons without explicit labels
            const buttons = document.querySelectorAll('button:not([aria-label])');
            buttons.forEach(button => {
                if (button.textContent.trim()) {
                    button.setAttribute('aria-label', button.textContent.trim());
                }
            });

            // Add live region for dynamic content updates
            const liveRegion = document.createElement('div');
            liveRegion.id = 'live-region';
            liveRegion.setAttribute('aria-live', 'polite');
            liveRegion.setAttribute('aria-atomic', 'true');
            liveRegion.className = 'sr-only';
            document.body.appendChild(liveRegion);

            // Initialize focus-visible polyfill behavior
            document.body.classList.add('js-focus-visible');

            console.log('Enhanced accessibility features initialized');
        }

        // Enhanced ARIA labeling function
        function enhanceAriaLabels() {
            // Add ARIA labels to stat cards
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach((card, index) => {
                const value = card.querySelector('.stat-value')?.textContent || '';
                const label = card.querySelector('.stat-label')?.textContent || '';
                const change = card.querySelector('.stat-change')?.textContent || '';
                const fullLabel = `${label}: ${value}. ${change}`;
                card.setAttribute('aria-label', fullLabel);
                card.setAttribute('role', 'img');
            });

            // Add ARIA labels to job cards
            const jobCards = document.querySelectorAll('.job-card');
            jobCards.forEach(card => {
                const title = card.querySelector('h3')?.textContent || '';
                const facility = card.querySelector('.job-facility')?.textContent || '';
                const location = card.querySelector('.job-location')?.textContent || '';
                const rate = card.querySelector('.job-rate')?.textContent || '';
                const status = card.querySelector('.job-status')?.textContent || '';
                
                const description = `${title} at ${facility}, ${location}. Rate: ${rate}. Status: ${status}`;
                card.setAttribute('aria-label', description);
                card.setAttribute('role', 'article');
            });

            // Add ARIA labels to application items
            const applicationItems = document.querySelectorAll('.application-item');
            applicationItems.forEach(item => {
                const title = item.querySelector('h3')?.textContent || '';
                const facility = item.querySelector('.application-facility')?.textContent || '';
                const location = item.querySelector('.application-location')?.textContent || '';
                const date = item.querySelector('.application-date')?.textContent || '';
                const rate = item.querySelector('.application-rate')?.textContent || '';
                const status = item.querySelector('.application-status-pill')?.textContent || '';
                
                const description = `Application for ${title} at ${facility}, ${location}. ${date}. Rate: ${rate}. Status: ${status}`;
                item.setAttribute('aria-label', description);
                item.setAttribute('role', 'article');
            });

            // Add ARIA labels to payment items
            const paymentItems = document.querySelectorAll('.payment-item');
            paymentItems.forEach(item => {
                const amount = item.querySelector('.payment-amount')?.textContent || '';
                const facility = item.querySelector('.payment-facility')?.textContent || '';
                const date = item.querySelector('.payment-date')?.textContent || '';
                const status = item.querySelector('.payment-status')?.textContent || '';
                
                const description = `Payment of ${amount} from ${facility} on ${date}. Status: ${status}`;
                item.setAttribute('aria-label', description);
                item.setAttribute('role', 'listitem');
            });

            // Add ARIA labels to credential items
            const credentialItems = document.querySelectorAll('.credential-item');
            credentialItems.forEach(item => {
                const title = item.querySelector('.credential-title')?.textContent || '';
                const status = item.querySelector('.credential-status')?.textContent || '';
                const expiry = item.querySelector('.credential-expiry')?.textContent || '';
                
                const description = `Credential: ${title}. Status: ${status}. ${expiry}`;
                item.setAttribute('aria-label', description);
                item.setAttribute('role', 'listitem');
            });

            // Add ARIA labels to contract cards
            const contractCards = document.querySelectorAll('.contract-card');
            contractCards.forEach(card => {
                const facility = card.querySelector('.contract-facility')?.textContent || '';
                const dates = card.querySelector('.contract-dates')?.textContent || '';
                const rate = card.querySelector('.contract-rate')?.textContent || '';
                const status = card.querySelector('.contract-status')?.textContent || '';
                
                const description = `Contract at ${facility}. ${dates}. Rate: ${rate}. Status: ${status}`;
                card.setAttribute('aria-label', description);
                card.setAttribute('role', 'article');
            });

            // Add ARIA describedby relationships
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                const inputs = form.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    const label = form.querySelector(`label[for="${input.id}"]`);
                    if (label) {
                        input.setAttribute('aria-describedby', label.id || '');
                    }
                });
            });

            // Add ARIA expanded states to expandable elements
            const expandableButtons = document.querySelectorAll('[aria-haspopup]');
            expandableButtons.forEach(button => {
                button.setAttribute('aria-expanded', 'false');
                button.addEventListener('click', function() {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true';
                    this.setAttribute('aria-expanded', (!isExpanded).toString());
                });
            });

            // Add role landmarks to main content areas
            const mainContent = document.querySelector('.main-content');
            if (mainContent && !mainContent.getAttribute('role')) {
                mainContent.setAttribute('role', 'main');
            }

            // Add complementary role to sidebars
            const sidebars = document.querySelectorAll('.sidebar');
            sidebars.forEach(sidebar => {
                sidebar.setAttribute('role', 'complementary');
            });

            console.log('Enhanced ARIA labels applied');
        }

        // Announce content changes to screen readers
        function announceToScreenReader(message) {
            const liveRegion = document.getElementById('live-region');
            if (liveRegion) {
                liveRegion.textContent = message;
                setTimeout(() => {
                    liveRegion.textContent = '';
                }, 1000);
            }
        }

        // Enhanced keyboard navigation for dropdowns
        function handleDropdownKeyboard(event) {
            const dropdown = event.target.closest('.nav-dropdown');
            if (!dropdown) return;

            const menu = dropdown.querySelector('.dropdown-menu');
            const menuItems = menu.querySelectorAll('a[role="menuitem"]');

            switch (event.key) {
                case 'ArrowDown':
                    event.preventDefault();
                    if (menu.style.display !== 'block') {
                        menu.style.display = 'block';
                        menuItems[0]?.focus();
                    } else {
                        const focused = document.activeElement;
                        const currentIndex = Array.from(menuItems).indexOf(focused);
                        const nextIndex = (currentIndex + 1) % menuItems.length;
                        menuItems[nextIndex]?.focus();
                    }
                    break;
                case 'ArrowUp':
                    event.preventDefault();
                    const focused = document.activeElement;
                    const currentIndex = Array.from(menuItems).indexOf(focused);
                    const prevIndex = currentIndex > 0 ? currentIndex - 1 : menuItems.length - 1;
                    menuItems[prevIndex]?.focus();
                    break;
                case 'Escape':
                    menu.style.display = 'none';
                    dropdown.querySelector('a[role="menuitem"]')?.focus();
                    break;
            }
        }

        // Drag and drop functionality for upload area
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize accessibility features
            initializeAccessibility();

            const uploadArea = document.querySelector('.upload-area');
            
            if (uploadArea) {
                // Make upload area keyboard accessible
                uploadArea.setAttribute('tabindex', '0');
                uploadArea.setAttribute('role', 'button');
                uploadArea.setAttribute('aria-label', 'Click to upload files or press Enter to open file dialog');
                
                uploadArea.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        triggerFileUpload();
                    }
                });

                uploadArea.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });

                uploadArea.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });

                uploadArea.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        console.log(`Dropped ${files.length} file(s)`);
                        showToast(`Dropped ${files.length} file(s) - ready to upload`, 'info');
                        announceToScreenReader(`${files.length} files selected for upload`);
                    }
                });
            }

            // Add keyboard navigation to navigation menu
            document.addEventListener('keydown', handleDropdownKeyboard);
        });

        // Toast notification system
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <span class="toast-message">${message}</span>
                <button class="toast-close" onclick="this.parentElement.remove()">×</button>
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                toast.classList.add('hide');
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, 300);
            }, 3000);
        }

        // Dashboard functionality
        function updateProfile() {
            alert('Opening profile editor...\n\n📝 Update:\n• Personal information\n• Specialties and certifications\n• License information\n• Availability preferences\n• Rate expectations\n• Work history');
        }

        function exportProfile() {
            alert('Exporting professional profile...\n\n📄 Includes:\n• Comprehensive resume\n• Certifications and licenses\n• Work history and ratings\n• Skills and specialties\n• References\n\nFile will be downloaded as PDF.');
        }

        function filterContracts(filter) {
            const buttons = document.querySelectorAll('.section-actions .btn-small.secondary');
            buttons.forEach(btn => btn.classList.remove('primary'));
            event.target.classList.add('primary');
            
            alert(`Filtering contracts: ${filter}\n\nShowing ${filter} contracts only.`);
        }

        function analyzeContracts() {
            alert('Analyzing all contracts...\n\n📊 Analysis includes:\n• Total earnings comparison\n• Rate trends over time\n• Best performing contracts\n• Market rate analysis\n• Recommendations for improvement');
        }

        function viewContract(contractId) {
            alert(`Viewing contract details ${contractId}...\n\n📋 Details include:\n• Complete contract terms\n• Payment schedule\n• Housing and benefits\n• Performance ratings\n• Extension options\n• Contact information`);
        }

        function calculateEarnings(contractId) {
            // Pre-fill calculator with contract data
            localStorage.setItem('calculatorData', JSON.stringify({
                hourlyRate: contractId === 1 ? 350 : contractId === 2 ? 380 : 325,
                hoursPerWeek: contractId === 1 ? 48 : contractId === 2 ? 36 : 40,
                contractWeeks: contractId === 1 ? 13 : contractId === 2 ? 8 : 26,
                housingStipend: contractId === 1 ? 1800 : contractId === 2 ? 1200 : 1400,
                jobTitle: contractId === 1 ? 'Emergency Medicine Physician' : contractId === 2 ? 'Emergency Medicine - Rural' : 'Emergency Medicine Locum',
                facility: contractId === 1 ? 'Metropolitan General Hospital' : contractId === 2 ? 'Valley Community Hospital' : 'Houston Medical Center'
            }));
            
            window.location.href = 'contract-calculator.html';
        }

        function extendContract(contractId) {
            alert(`Requesting contract extension for Contract ${contractId}...\n\n📞 Next steps:\n• Contact recruiter\n• Negotiate terms\n• Confirm availability\n• Submit extension request`);
        }

        function prepareContract(contractId) {
            alert(`Preparing for upcoming contract ${contractId}...\n\n✅ Preparation checklist:\n• Verify credentials\n• Arrange housing\n• Plan travel\n• Review orientation materials\n• Complete pre-arrival requirements`);
        }

        function downloadContract(contractId) {
            alert(`Downloading contract ${contractId} documents...\n\n📁 Documents include:\n• Signed contract\n• Pay statements\n• Performance reviews\n• Reference letters\n• Tax documents`);
        }

        function renewContract(contractId) {
            alert(`Initiating contract renewal for Contract ${contractId}...\n\n🔄 Renewal process:\n• Express interest to recruiter\n• Review updated terms\n• Negotiate improvements\n• Confirm dates and rates`);
        }

        function viewCalculation(calcId) {
            const calculations = {
                1: { type: 'Contract', rate: '$476.83/hr', total: '$298,400' },
                2: { type: 'Paycheck', weekly: '$5,240', monthly: '$22,707' },
                3: { type: 'Contract', rate: '$380.00/hr', total: '$109,440' }
            };
            
            const calc = calculations[calcId];
            alert(`Viewing saved calculation ${calcId}:\n\nType: ${calc.type} Analysis\nDetails: ${calc.rate || calc.weekly}\nTotal: ${calc.total || calc.monthly}`);
        }

        function useCalculation(calcId) {
            alert(`Loading calculation ${calcId} into calculator...\n\nRedirecting to calculator with pre-filled data.`);
            
            // Simulate loading calculation data
            setTimeout(() => {
                if (calcId === 2) {
                    window.location.href = 'paycheck-calculator.html';
                } else {
                    window.location.href = 'contract-calculator.html';
                }
            }, 1000);
        }

        function exportCalculations() {
            alert('Exporting all saved calculations...\n\n📊 Export includes:\n• Contract analyses\n• Paycheck calculations\n• Comparison data\n• Performance metrics\n\nFile will be downloaded as Excel spreadsheet.');
        }

        function compareCalculations() {
            alert('Opening calculation comparison tool...\n\n⚖️ Compare:\n• Multiple contract offers\n• Rate analysis\n• Total compensation\n• True hourly rates\n• Benefits comparison');
        }

        // Initialize dashboard
        // Error handling and validation functions
        function handleError(error, context = 'Unknown') {
            console.error(`Error in ${context}:`, error);
            
            const errorMessage = error.message || 'An unexpected error occurred';
            const userMessage = getUserFriendlyErrorMessage(errorMessage, context);
            
            showToast(userMessage, 'error');
            announceToScreenReader(`Error: ${userMessage}`);
            
            // Log error for monitoring
            logErrorForAnalytics(error, context);
        }

        function getUserFriendlyErrorMessage(errorMessage, context) {
            const errorMappings = {
                'Network error': 'Unable to connect. Please check your internet connection.',
                'Validation failed': 'Please check your input and try again.',
                'Authentication failed': 'Please log in again to continue.',
                'Permission denied': 'You don\'t have permission to perform this action.',
                'File upload failed': 'Unable to upload file. Please try again.',
                'Search failed': 'Search temporarily unavailable. Please try again.',
                'Save failed': 'Unable to save changes. Please try again.',
                'Load failed': 'Unable to load data. Please refresh the page.',
                'Export failed': 'Unable to export data. Please try again.'
            };
            
            // Context-specific messages
            const contextMappings = {
                'payment': 'Payment processing error. Please contact support.',
                'upload': 'File upload failed. Please check file size and format.',
                'calendar': 'Calendar unavailable. Please try again later.',
                'settings': 'Unable to save settings. Please try again.',
                'search': 'Search is temporarily unavailable.',
                'application': 'Unable to process application. Please try again.'
            };
            
            return contextMappings[context] || 
                   errorMappings[errorMessage] || 
                   'Something went wrong. Please try again or contact support.';
        }

        function logErrorForAnalytics(error, context) {
            // In a real application, this would send to an analytics service
            const errorData = {
                message: error.message,
                stack: error.stack,
                context: context,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                url: window.location.href
            };
            console.log('Error logged:', errorData);
        }

        function validateInput(value, type) {
            try {
                switch (type) {
                    case 'email':
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(value)) {
                            throw new Error('Please enter a valid email address');
                        }
                        break;
                    case 'phone':
                        const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
                        if (!phoneRegex.test(value.replace(/[\s\-\(\)]/g, ''))) {
                            throw new Error('Please enter a valid phone number');
                        }
                        break;
                    case 'required':
                        if (!value || value.trim() === '') {
                            throw new Error('This field is required');
                        }
                        break;
                    case 'number':
                        if (isNaN(value) || value < 0) {
                            throw new Error('Please enter a valid number');
                        }
                        break;
                    case 'date':
                        if (isNaN(Date.parse(value))) {
                            throw new Error('Please enter a valid date');
                        }
                        break;
                }
                return true;
            } catch (error) {
                showFieldError(error.message);
                return false;
            }
        }

        function showFieldError(message) {
            showToast(message, 'error');
            announceToScreenReader(`Validation error: ${message}`);
        }

        function validateForm(formElement) {
            const inputs = formElement.querySelectorAll('input[required], select[required], textarea[required]');
            let isValid = true;
            
            inputs.forEach(input => {
                const value = input.value.trim();
                const type = input.type || 'text';
                
                if (!validateInput(value, 'required')) {
                    isValid = false;
                    input.focus();
                    input.setAttribute('aria-invalid', 'true');
                } else if (type === 'email' && !validateInput(value, 'email')) {
                    isValid = false;
                    input.focus();
                    input.setAttribute('aria-invalid', 'true');
                } else {
                    input.removeAttribute('aria-invalid');
                }
            });
            
            return isValid;
        }

        // Enhanced error handling for existing functions
        function safeExecute(func, context = 'Unknown') {
            try {
                return func();
            } catch (error) {
                handleError(error, context);
                return null;
            }
        }

        // Network error handling
        function handleNetworkError(response, context = 'Network request') {
            if (!response.ok) {
                const error = new Error(`HTTP ${response.status}: ${response.statusText}`);
                handleError(error, context);
                return false;
            }
            return true;
        }

        // Retry mechanism for failed operations
        function retryOperation(operation, maxRetries = 3, delay = 1000) {
            return new Promise((resolve, reject) => {
                let attempts = 0;
                
                const attemptOperation = () => {
                    attempts++;
                    operation()
                        .then(resolve)
                        .catch(error => {
                            if (attempts < maxRetries) {
                                console.log(`Attempt ${attempts} failed, retrying in ${delay}ms...`);
                                setTimeout(attemptOperation, delay);
                            } else {
                                reject(error);
                            }
                        });
                };
                
                attemptOperation();
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            try {
                initializeAccessibility();
                console.log('Locum dashboard loaded successfully');
            } catch (error) {
                handleError(error, 'Dashboard initialization');
            }
        });
    </script>

    <!-- Floating Logger Component -->
    <button id="logger-toggle-fab" class="logger-toggle-fab" onclick="toggleLoggerVisibility()" title="Toggle Console Logger">
        <span id="fab-icon">🔍</span>
    </button>
    
    <div id="floating-logger" class="floating-logger">
        <div class="logger-header">
            <span class="logger-title">Console Logger</span>
            <div class="logger-controls">
                <button class="logger-btn" onclick="clearLogs()" title="Clear logs">🗑️</button>
                <button class="logger-btn" onclick="copyLogs()" title="Copy logs">📋</button>
                <button class="logger-btn" onclick="minimizeLogger()" title="Minimize logger">
                    <span id="minimize-icon">−</span>
                </button>
                <button class="logger-btn" onclick="toggleLogger()" title="Toggle logger">
                    <span id="toggle-icon">▼</span>
                </button>
            </div>
        </div>
        <div id="logger-content" class="logger-content">
            <div id="logger-messages" class="logger-messages"></div>
        </div>
    </div>

    <style>
        /* Floating Logger Styles */
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --surface-color: #ffffff;
            --border-color: #e2e8f0;
            --background-color: #f8fafc;
            --text-primary: #1e293b;
            --text-muted: #94a3b8;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }

        /* Floating Action Button for toggling logger */
        .logger-toggle-fab {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
        }

        .logger-toggle-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .logger-toggle-fab.visible {
            display: flex;
        }

        .floating-logger {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 450px;
            max-width: 90vw;
            background-color: var(--surface-color);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            z-index: 9999;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px; /* Increased for better OCR */
            transition: all 0.3s ease;
        }

        .floating-logger.hidden {
            display: none;
        }

        .logger-header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 0.6rem 0.6rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .logger-title {
            font-weight: 600;
            font-size: 14px;
        }

        .logger-controls {
            display: flex;
            gap: 0.5rem;
        }

        .logger-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 14px;
        }

        .logger-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .logger-content {
            max-height: 300px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .logger-content.collapsed {
            max-height: 0;
        }

        .logger-messages {
            padding: 1rem;
            overflow-y: auto;
            max-height: 300px;
            background-color: var(--background-color);
        }

        .log-entry {
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            border-left: 4px solid var(--border-color);
            background-color: var(--surface-color);
            border-radius: 0.5rem;
            word-wrap: break-word;
            line-height: 1.6; /* Better OCR readability */
            letter-spacing: 0.02em; /* Slight letter spacing for OCR */
        }

        .log-entry.log {
            border-left-color: var(--primary-color);
        }

        .log-entry.warn {
            border-left-color: var(--warning-color);
            background-color: rgba(245, 158, 11, 0.08);
        }

        .log-entry.error {
            border-left-color: var(--error-color);
            background-color: rgba(239, 68, 68, 0.08);
        }

        .log-timestamp {
            color: var(--text-muted);
            font-size: 12px; /* Larger for OCR */
            margin-right: 0.75rem;
            font-weight: 500;
        }

        .log-message {
            color: var(--text-primary);
            font-size: 14px; /* Ensure consistent size */
            font-weight: 400;
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .floating-logger {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
            }
        }
    </style>

    <script>
        // Floating Logger Implementation
        (function() {
            // Store original console methods
            const originalLog = console.log;
            const originalWarn = console.warn;
            const originalError = console.error;
            
            // Logger state
            let isCollapsed = false;
            let isHidden = false;
            const maxLogs = 100;
            const logs = [];
            
            // Initialize logger
            function initLogger() {
                // Override console methods
                console.log = function(...args) {
                    logMessage('log', args);
                    originalLog.apply(console, args);
                };
                
                console.warn = function(...args) {
                    logMessage('warn', args);
                    originalWarn.apply(console, args);
                };
                
                console.error = function(...args) {
                    logMessage('error', args);
                    originalError.apply(console, args);
                };
                
                // Add initial message
                console.log('🚀 Floating Logger initialized');
                
                // Default to open
                isHidden = false;
            }
            
            // Log message to floating logger
            function logMessage(type, args) {
                const timestamp = new Date().toLocaleTimeString();
                const message = args.map(arg => {
                    if (typeof arg === 'object') {
                        try {
                            return JSON.stringify(arg, null, 2);
                        } catch (e) {
                            return String(arg);
                        }
                    }
                    return String(arg);
                }).join(' ');
                
                // Add to logs array
                logs.push({ type, timestamp, message });
                if (logs.length > maxLogs) {
                    logs.shift();
                }
                
                // Update UI
                updateLoggerUI();
            }
            
            // Update logger UI
            function updateLoggerUI() {
                const messagesContainer = document.getElementById('logger-messages');
                if (!messagesContainer) return;
                
                messagesContainer.innerHTML = logs.map(log => `
                    <div class="log-entry ${log.type}">
                        <span class="log-timestamp">${log.timestamp}</span>
                        <span class="log-message">${escapeHtml(log.message)}</span>
                    </div>
                `).join('');
                
                // Auto-scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            // Escape HTML for safe display
            function escapeHtml(unsafe) {
                return unsafe
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;")
                    .replace(/'/g, "&#039;");
            }
            
            // Toggle logger visibility (show/hide entire logger)
            window.toggleLoggerVisibility = function() {
                isHidden = !isHidden;
                const logger = document.getElementById('floating-logger');
                const fab = document.getElementById('logger-toggle-fab');
                
                if (isHidden) {
                    logger.classList.add('hidden');
                    fab.classList.add('visible');
                } else {
                    logger.classList.remove('hidden');
                    fab.classList.remove('visible');
                }
            };
            
            // Minimize logger (hide from view, show FAB)
            window.minimizeLogger = function() {
                const logger = document.getElementById('floating-logger');
                const fab = document.getElementById('logger-toggle-fab');
                logger.classList.add('hidden');
                fab.classList.add('visible');
                isHidden = true;
            };
            
            // Toggle logger collapse/expand
            window.toggleLogger = function() {
                isCollapsed = !isCollapsed;
                const content = document.getElementById('logger-content');
                const icon = document.getElementById('toggle-icon');
                
                if (isCollapsed) {
                    content.classList.add('collapsed');
                    icon.textContent = '▲';
                } else {
                    content.classList.remove('collapsed');
                    icon.textContent = '▼';
                }
            };
            
            // Clear logs
            window.clearLogs = function() {
                logs.length = 0;
                updateLoggerUI();
                console.log('🗑️ Logs cleared');
            };
            
            // Copy logs to clipboard
            window.copyLogs = function() {
                const logText = logs.map(log => 
                    `[${log.timestamp}] ${log.type.toUpperCase()}: ${log.message}`
                ).join('\n');
                
                navigator.clipboard.writeText(logText).then(() => {
                    console.log('📋 Logs copied to clipboard');
                }).catch(err => {
                    console.error('Failed to copy logs:', err);
                });
            };
            
            // Make logger draggable
            function makeLoggerDraggable() {
                const logger = document.getElementById('floating-logger');
                const header = logger.querySelector('.logger-header');
                let isDragging = false;
                let currentX;
                let currentY;
                let initialX;
                let initialY;
                let xOffset = 0;
                let yOffset = 0;
                
                header.addEventListener('mousedown', dragStart);
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', dragEnd);
                
                function dragStart(e) {
                    if (e.target.closest('.logger-controls')) return;
                    
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                    
                    if (e.target === header || e.target.closest('.logger-title')) {
                        isDragging = true;
                    }
                }
                
                function drag(e) {
                    if (!isDragging) return;
                    
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                    
                    xOffset = currentX;
                    yOffset = currentY;
                    
                    logger.style.transform = `translate(${currentX}px, ${currentY}px)`;
                }
                
                function dragEnd() {
                    initialX = currentX;
                    initialY = currentY;
                    isDragging = false;
                }
            }
            
            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    initLogger();
                    makeLoggerDraggable();
                });
            } else {
                initLogger();
                makeLoggerDraggable();
            }
        })();
    </script>
</body>
</html>
